{"aid": "igkp7uj25862sp", "error": null, "result": {"default_anonymity": "no", "status": "active", "i_edits": [], "q_edits": [], "bookmarked": 41, "request_instructor": 0, "history": [{"uid": "hdjonbiyfs62ie", "anon": "no", "created": "2015-03-23T06:07:02Z", "content": "<p>请参加第4周第一次课堂交流的同学在此回复各自小组的小组思考题第4题的解答。</p>\n<p></p>\n<p>题目&#xff1a;</p>\n<p><a href=\"https://github.com/xuyongjiande/os_exercises/blob/master/all/03-3-lab2-spoc-discussion.md\">https://github.com/xuyongjiande/os_exercises/blob/master/all/03-3-lab2-spoc-discussion.md</a></p>\n<p></p>\n<p></p>", "subject": "实验2课堂思考题回答"}], "s_edits": [], "tag_good_arr": [], "is_bookmarked": false, "my_favorite": false, "t": 1446635151182, "children": [{"uid": "i6t6y9snjx2", "no_answer": 0, "created": "2015-03-23T06:29:59Z", "id": "i7lhukc0rwo5o5", "updated": "2015-03-23T06:29:59Z", "subject": "<p>pde_index 0x8</p>\n<p>ped_ctx 的高20位0x9</p>\n<p>pte_index 0x265</p>\n<p>pte_ctx 0xd8f1</p>\n<p>pa 0x0d8f1b1f</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [{"uid": "i6t6y9snjx2", "created": "2015-03-23T06:36:56Z", "id": "i7li3i30umd73z", "updated": "2015-03-23T06:36:56Z", "subject": "<p>此组为 计25 矣晓沅 2012011364</p>\n<p>            计25 梁俊邦 2012011375</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "children": [], "type": "feedback"}], "type": "followup"}, {"uid": "i6s09f3xHOf", "no_answer": 0, "created": "2015-03-23T06:35:07Z", "id": "i7li15ys49v67k", "updated": "2015-03-23T06:35:07Z", "subject": "<p>李心成</p>\n<p>陈振寰</p>\n<p>va 0xcd82c07c, pa 0x0c20907c, pde_idx 0x00000336, pde_ctx 0x00037003, pte_idx 0x0000002c, pte_ctx 0x0000c20b</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [{"uid": "i6s09f3xHOf", "created": "2015-03-23T06:46:34Z", "id": "i7lifw2i2r91r2", "updated": "2015-03-23T06:46:34Z", "subject": "<p>刚才贴错了。。。</p>\n<p>va 0xc2265b1f, pa 0x0d8f1b1f, pde_idx 0x308, pde_ctx 0x9003, pte_idx 0x265, pte_ctx 0xd8f1003</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "children": [], "type": "feedback"}], "type": "followup"}, {"uid": "i6rgda76fc66q4", "no_answer": 0, "created": "2015-03-23T06:37:20Z", "id": "i7li412m5dz7g1", "updated": "2015-03-23T06:37:20Z", "subject": "<p></p><p>胡津铭</p>\n<p>沈光耀</p>\n<p>va 0xcd82c07c, pa 0x0c20907c, pde_idx 0x00000336, pde_ctx  0x00037003, pte_idx 0x0000002c, pte_ctx  0x0000c20b</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [{"uid": "i6uunp7jxDb", "created": "2015-03-23T07:01:42Z", "id": "i7lizczybc84ho", "updated": "2015-03-23T07:01:42Z", "subject": "<p>更改为</p>\n<p>pte_ctx = 0x0c209003</p>\n<p></p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "children": [], "type": "feedback"}], "type": "followup"}, {"uid": "i71i9b92nrr7n4", "no_answer": 0, "created": "2015-03-23T06:54:32Z", "id": "i7liq5ai62r1aq", "updated": "2015-03-23T06:54:32Z", "subject": "<p>梁錫豪 2012011290</p>\n<p></p>\n<p>va 0xcd82c07c, pa 0x0c20907c, pde_idx 0x00000336, pde_ctx  0x00037003, pte_idx 0x0000002c, pte_ctx  0x0000c20b</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [], "type": "followup"}, {"uid": "i6uehzyhtye4i2", "no_answer": 0, "created": "2015-03-23T06:59:14Z", "id": "i7liw6pb84t79b", "updated": "2015-03-23T06:59:14Z", "subject": "<p></p>\n<div>\n<div>\n<p>va 0xcd82c07c, pa 0x0c20907c, pde_idx 0x00000336, pde_ctx  0x00037003, pte_idx 0x0000002c, pte_ctx  0x0c209003</p>\n<p>史佳欣  2012011299</p>\n<p>林子钏  2012011322</p>\n</div>\n</div>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [{"uid": "i6uehzyhtye4i2", "created": "2015-03-23T11:12:26Z", "id": "i7lrxsmjjqg20s", "updated": "2015-03-23T11:12:26Z", "subject": "<p></p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "children": [], "type": "feedback"}], "type": "followup"}, {"uid": "i6ub5at2geM", "no_answer": 0, "created": "2015-03-23T06:59:56Z", "id": "i7lix2p4efv36h", "updated": "2015-03-23T06:59:56Z", "subject": "<p>金嘉宇 2012080059</p>\n<p>李国豪 2012011303</p>\n<p>va 0xcd82c07c, pa 0x0c20907c, pde_idx 0x00000336, pde_ctx  0x00037003, pte_idx 0x0000002c, pte_ctx  0x0c209003</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [{"uid": "i6ub5at2geM", "created": "2015-03-23T11:36:11Z", "id": "i7lssc774ony3", "updated": "2015-03-23T11:36:11Z", "subject": "<p>#include &lt;iostream&gt;<br />#include &lt;stdlib.h&gt;<br />#include &lt;stdio.h&gt;<br />using namespace std;<br />int main(){<br /> FILE *ifs = freopen(&#34;in33.txt&#34;,&#34;r&#34;,stdin);<br /> FILE *ofs = freopen(&#34;out33.txt&#34;,&#34;w&#34;,stdout);<br /> unsigned int va = 0, pa = 0;<br /> <br /> for(int i=0;i&lt;10;i&#43;&#43;){<br /> scanf(&#34;va %x, pa %x\\n&#34;,&amp;va,&amp;pa);<br /> unsigned int pde_idx = va &gt;&gt; 22;<br /> unsigned int pde_ctx = ((pde_idx - 0x300 &#43; 1) &lt;&lt; 12) | 0x3;<br /> unsigned int pte_idx = (va &gt;&gt; 12) &amp; 0X3FF;<br /> unsigned int pte_ctx = (pa &amp; 0xFFFFF000) | 0x3;<br /> printf(&#34;va 0x%08x, pa 0x%08x, pde_idx 0x%08x, pde_ctx 0x%08x, pte_idx 0x%08x, pte_ctx 0x%08x, \\n&#34;\\<br /> ,va,pa,pde_idx,pde_ctx,pte_idx,pte_ctx );<br /> }<br /> return 0;<br />}</p>\n<p></p>\n<p>结果:</p>\n<p>va 0xc2265b1f, pa 0x0d8f1b1f, pde_idx 0x00000308, pde_ctx 0x00009003, pte_idx 0x00000265, pte_ctx 0x0d8f1003, <br />va 0xcc386bbc, pa 0x0414cbbc, pde_idx 0x00000330, pde_ctx 0x00031003, pte_idx 0x00000386, pte_ctx 0x0414c003, <br />va 0xc7ed4d57, pa 0x07311d57, pde_idx 0x0000031f, pde_ctx 0x00020003, pte_idx 0x000002d4, pte_ctx 0x07311003, <br />va 0xca6cecc0, pa 0x0c9e9cc0, pde_idx 0x00000329, pde_ctx 0x0002a003, pte_idx 0x000002ce, pte_ctx 0x0c9e9003, <br />va 0xc18072e8, pa 0x007412e8, pde_idx 0x00000306, pde_ctx 0x00007003, pte_idx 0x00000007, pte_ctx 0x00741003, <br />va 0xcd5f4b3a, pa 0x06ec9b3a, pde_idx 0x00000335, pde_ctx 0x00036003, pte_idx 0x000001f4, pte_ctx 0x06ec9003, <br />va 0xcc324c99, pa 0x0008ac99, pde_idx 0x00000330, pde_ctx 0x00031003, pte_idx 0x00000324, pte_ctx 0x0008a003, <br />va 0xc7204e52, pa 0x0b8b6e52, pde_idx 0x0000031c, pde_ctx 0x0001d003, pte_idx 0x00000204, pte_ctx 0x0b8b6003, <br />va 0xc3a90293, pa 0x0f1fd293, pde_idx 0x0000030e, pde_ctx 0x0000f003, pte_idx 0x00000290, pte_ctx 0x0f1fd003, <br />va 0xce6c3f32, pa 0x007d4f32, pde_idx 0x00000339, pde_ctx 0x0003a003, pte_idx 0x000002c3, pte_ctx 0x007d4003, </p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "children": [], "type": "feedback"}], "type": "followup"}, {"uid": "i6roqnlkmtw", "no_answer": 0, "created": "2015-03-23T07:02:04Z", "id": "i7lizu6mwtp68y", "updated": "2015-03-23T07:02:04Z", "subject": "<p>李天润</p>\n<p>刘鹤</p>\n<p>va 0xcd82c07c, pa 0x0c20907c, pde_idx 0x00000336, pde_ctx  0x00037003, pte_idx 0x0000002c, pte_ctx  0c209003</p>\n<p>感觉spoc给出的那个pte_ctx不太对啊。。。</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [], "type": "followup"}, {"uid": "i6ublqcaxvu6el", "no_answer": 0, "created": "2015-03-23T07:03:03Z", "id": "i7lj13ixnrq4te", "updated": "2015-03-23T07:03:03Z", "subject": "<p>参考输出的pde_idx为va的高10位</p>\n<p>pde_ctx为pde_idx后8位加1后&#xff0c;左移12位&#xff0c;最后两位为可读可写和是否有效位</p>\n<p>ptd_idx为va中间10位</p>\n<p>pte_ctx为pa的高20位左移12位&#xff0c;再加三</p>\n<p></p>\n<p>刘鹤 2012011300</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [], "type": "followup"}, {"uid": "i6ub7i4hdcc", "no_answer": 0, "created": "2015-03-23T07:03:45Z", "id": "i7lj1zpuafc4zb", "updated": "2015-03-23T07:03:45Z", "subject": "<p>徐梓哲&#xff0c;张洵恺</p>\n<div>\n<div>\n<p>va 0xc2265b1f, pa 0x0d8f1b1f, pde_idx 0x308, pde_ctx 0x9003, pte_idx 0x265, pte_ctx 0xd8f1003</p>\n<p></p>\n</div>\n</div>\n<div></div>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [{"uid": "i6ut1sgpijq", "created": "2015-03-23T07:05:56Z", "id": "i7lj4t4gmfq7a7", "updated": "2015-03-23T07:05:56Z", "subject": "<p></p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "children": [], "type": "feedback"}], "type": "followup"}, {"uid": "i71fykcui1h2je", "no_answer": 0, "created": "2015-03-23T07:04:10Z", "id": "i7lj2itdxe867z", "updated": "2015-03-23T07:04:10Z", "subject": "<p>章浚源</p>\n<p>杨皓</p>\n<p>va 0xc2265b1f, pa 0x0d8f1b1f, pde_idx 0x308, pde_ctx 0x9003, pte_idx 0x265, pte_ctx 0xd8f1003</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [], "type": "followup"}, {"uid": "i6uji18l8j51ob", "no_answer": 0, "created": "2015-03-23T07:04:21Z", "id": "i7lj2r6dwnj6aj", "updated": "2015-03-23T07:04:21Z", "subject": "<p>裴中煜 2012010685</p>\n<p>李若愚 2012011353</p>\n<p></p>\n<p>代码</p>\n<pre>#!/usr/bin/env python\n# coding: utf-8\n\npde_mask = 0xffc00000\npde_shift = 22\npte_mask = 0x003ff000\npte_shift = 12\npage_mask = 0xfffff000\npage_shift = 8\n\ndef read_testdata(filename=&#39;test.txt&#39;):\n    f = open(filename, &#39;r&#39;)\n    test_case = []\n    for line in f.readlines():\n        addr = line.split(&#39;,&#39;)\n        va = int(addr[0].strip().split(&#39; &#39;)[1][2:], 16)\n        pa = int(addr[1].strip().split(&#39; &#39;)[1][2:], 16)\n        test_case.append((va, pa))\n    f.close()\n    return test_case\n\ndef translate(data):\n    outtitle = [&#39;va&#39;, &#39;pa&#39;, &#39;pde_idx&#39;, &#39;pde_ctx&#39;, &#39;pte_idx&#39;, &#39;pte_ctx&#39;]\n    for item in data:\n        va = item[0]\n        pa = item[1]\n        pde_idx = (va &amp; pde_mask) &gt;&gt; pde_shift\n        pde_ctx = ((pde_idx - 0x300 &#43; 1) &lt;&lt; 12) | 0x003\n        pte_idx = (va &amp; pte_mask) &gt;&gt; pte_shift\n        pte_ctx = (pa &amp; page_mask) | 0x003 \n        outdata = [va, pa, pde_idx, pde_ctx, pte_idx, pte_ctx]\n        for k, v in zip(outtitle, outdata):\n            print k &#43; &#39;: 0x%08x, &#39; % v,\n        print\n\nif __name__ == &#39;__main__&#39;:\n    translate(read_testdata())\n<br /><br />结果<br />va: 0xc2265b1f,  pa: 0x0d8f1b1f,  pde_idx: 0x00000308,  pde_ctx: 0x00009003,  pte_idx: 0x00000265,  pte_ctx: 0x0d8f1003, \nva: 0xcc386bbc,  pa: 0x0414cbbc,  pde_idx: 0x00000330,  pde_ctx: 0x00031003,  pte_idx: 0x00000386,  pte_ctx: 0x0414c003, \nva: 0xc7ed4d57,  pa: 0x07311d57,  pde_idx: 0x0000031f,  pde_ctx: 0x00020003,  pte_idx: 0x000002d4,  pte_ctx: 0x07311003, \nva: 0xca6cecc0,  pa: 0x0c9e9cc0,  pde_idx: 0x00000329,  pde_ctx: 0x0002a003,  pte_idx: 0x000002ce,  pte_ctx: 0x0c9e9003, \nva: 0xc18072e8,  pa: 0x007412e8,  pde_idx: 0x00000306,  pde_ctx: 0x00007003,  pte_idx: 0x00000007,  pte_ctx: 0x00741003, \nva: 0xcd5f4b3a,  pa: 0x06ec9b3a,  pde_idx: 0x00000335,  pde_ctx: 0x00036003,  pte_idx: 0x000001f4,  pte_ctx: 0x06ec9003, \nva: 0xcc324c99,  pa: 0x0008ac99,  pde_idx: 0x00000330,  pde_ctx: 0x00031003,  pte_idx: 0x00000324,  pte_ctx: 0x0008a003, \nva: 0xc7204e52,  pa: 0x0b8b6e52,  pde_idx: 0x0000031c,  pde_ctx: 0x0001d003,  pte_idx: 0x00000204,  pte_ctx: 0x0b8b6003, \nva: 0xc3a90293,  pa: 0x0f1fd293,  pde_idx: 0x0000030e,  pde_ctx: 0x0000f003,  pte_idx: 0x00000290,  pte_ctx: 0x0f1fd003, \nva: 0xce6c3f32,  pa: 0x007d4f32,  pde_idx: 0x00000339,  pde_ctx: 0x0003a003,  pte_idx: 0x000002c3,  pte_ctx: 0x007d4003, \n</pre>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [{"uid": "i6t7mzhbhwF", "created": "2015-03-23T07:05:52Z", "id": "i7lj4q33z697dh", "updated": "2015-03-23T07:05:52Z", "subject": "<p></p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "children": [], "type": "feedback"}], "type": "followup"}, {"uid": "i6sl02qfUgI", "no_answer": 0, "created": "2015-03-23T07:05:24Z", "id": "i7lj43xsi7g5ck", "updated": "2015-03-23T07:05:24Z", "subject": "<p>黄杰</p>\n<p>袁源</p>\n<p>va 0xcd82c07c, pa 0x0c20907c, pde_idx 0x00000336, </p>\n<p>pde_ctx  0x00037003, pte_idx 0x0000002c, pte_ctx  0c209003</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [], "type": "followup"}, {"uid": "i6t76fg9sEh", "no_answer": 0, "created": "2015-03-23T07:05:53Z", "id": "i7lj4qq7rwg10g", "updated": "2015-03-23T07:05:53Z", "subject": "<p>杨元&#xff0c; 罗鸿胤</p>\n<p></p>\n<pre>#os\ndata=[[0xc2265b1f, 0x0d8f1b1f],\n[0xcc386bbc, 0x0414cbbc],\n[0xc7ed4d57, 0x07311d57],\n[0xca6cecc0, 0x0c9e9cc0],\n[0xc18072e8, 0x007412e8],\n[0xcd5f4b3a, 0x06ec9b3a],\n[0xcc324c99, 0x0008ac99],\n[0xc7204e52, 0x0b8b6e52],\n[0xc3a90293, 0x0f1fd293],\n[0xce6c3f32, 0x007d4f32]]\nfor i in data:\n    print &#34;va 0x%08x, &#34; %i[0],\n    print &#34;pa 0x%08x, &#34; %i[1],\n    pde_idx = i[0] &gt;&gt; 22\n    pde_ctx = ((pde_idx &#43; 1) &lt;&lt; 12) | 0x3\n    pte_idx = (i[0] &gt;&gt; 12) &amp; 0x3ff\n    pte_ctx = (i[1] &amp; 0xfffff000) | 0x3\n    print &#34;pde_idx 0x%08x, &#34; %pde_idx,\n    print &#34;pde_ctx 0x%08x, &#34; %pde_ctx,\n    print &#34;pte_idx 0x%08x, &#34; %pte_idx,\n    print &#34;pte_ctx 0x%08x&#34;   %pte_ctx\n</pre>\n<p>————————————</p>\n<pre>va 0xc2265b1f,  pa 0x0d8f1b1f,  pde_idx 0x00000308,  pde_ctx 0x00309003,  pte_idx 0x00000265,  pte_ctx 0x0d8f1003\nva 0xcc386bbc,  pa 0x0414cbbc,  pde_idx 0x00000330,  pde_ctx 0x00331003,  pte_idx 0x00000386,  pte_ctx 0x0414c003\nva 0xc7ed4d57,  pa 0x07311d57,  pde_idx 0x0000031f,  pde_ctx 0x00320003,  pte_idx 0x000002d4,  pte_ctx 0x07311003\nva 0xca6cecc0,  pa 0x0c9e9cc0,  pde_idx 0x00000329,  pde_ctx 0x0032a003,  pte_idx 0x000002ce,  pte_ctx 0x0c9e9003\nva 0xc18072e8,  pa 0x007412e8,  pde_idx 0x00000306,  pde_ctx 0x00307003,  pte_idx 0x00000007,  pte_ctx 0x00741003\nva 0xcd5f4b3a,  pa 0x06ec9b3a,  pde_idx 0x00000335,  pde_ctx 0x00336003,  pte_idx 0x000001f4,  pte_ctx 0x06ec9003\nva 0xcc324c99,  pa 0x0008ac99,  pde_idx 0x00000330,  pde_ctx 0x00331003,  pte_idx 0x00000324,  pte_ctx 0x0008a003\nva 0xc7204e52,  pa 0x0b8b6e52,  pde_idx 0x0000031c,  pde_ctx 0x0031d003,  pte_idx 0x00000204,  pte_ctx 0x0b8b6003\nva 0xc3a90293,  pa 0x0f1fd293,  pde_idx 0x0000030e,  pde_ctx 0x0030f003,  pte_idx 0x00000290,  pte_ctx 0x0f1fd003\nva 0xce6c3f32,  pa 0x007d4f32,  pde_idx 0x00000339,  pde_ctx 0x0033a003,  pte_idx 0x000002c3,  pte_ctx 0x007d4003</pre>\n<p></p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [], "type": "followup"}, {"uid": "i6xgf2t8N7w", "no_answer": 0, "created": "2015-03-23T07:06:01Z", "id": "i7lj4wrs14z11y", "updated": "2015-03-23T07:06:01Z", "subject": "战裕隆2012011388 杨俊2012011400 仍在调试\n#include \n#include \nunsigned int  mem[128][32];\nint char2int(char a){\n\treturn (a&gt;58)?(a-87):(a-48);\n}\nint value(char* a,int start){\n\tint i=0,sum=0;\n\tfor(;i&lt;8;i&#43;&#43;){\n\t\tsum*=16;\n\t\tsum&#43;=char2int(a[start&#43;i]);\n\t}\n\treturn sum;\n}\nvoid catch(int value){\n\t//printf(&#34;%d %d\\n&#34;,value&gt;&gt;10,mem[17][value&gt;&gt;10]);\n\tif(mem[17][value&gt;&gt;10]/128==0){\n\t\tprintf(&#34;\t--&gt; pde index:0x%x  pde contents:(valid 0, pfn 0x%x)\\n&#34;,value&gt;&gt;10,mem[17][value&gt;&gt;10]%128);\n      \t\tprintf(&#34;\t\t--&gt; Fault (page directory entry not valid)\\n&#34;);\n\t}else{\n\t\tprintf(&#34;\t--&gt; pde index:0x%x  pde contents:(valid 1, pfn 0x%x)\\n&#34;,value&gt;&gt;10,mem[17][value&gt;&gt;10]%128);\n\t\tif(mem[mem[17][value&gt;&gt;10]%128][(value&gt;&gt;5)%32]/128==0){\n\t\t\tprintf(&#34;\t\t--&gt; pte index:0x%x  pte contents:(valid 0, pfn 0x%x)\\n&#34;,(value&gt;&gt;5)%32,mem[mem[17][value&gt;&gt;10]%128][(value&gt;&gt;5)%32]%128);\n\t\t\tprintf(&#34;\t\t\t--&gt; Fault (page table entry not valid)\\n&#34;);\n\t\t}else{\n\t\t\tprintf(&#34;\t\t--&gt; pte index:0x%x  pte contents:(valid 1, pfn 0x%x)\\n&#34;,(value&gt;&gt;5)%32,mem[mem[17][value&gt;&gt;10]%128][(value&gt;&gt;5)%32]%128);\n\t\t\tint address=value%32&#43;(mem[mem[17][value&gt;&gt;10]%128][(value&gt;&gt;5)%32]%128)*32;\n\t\t\t//printf(&#34;%d\\n&#34;,address);\n\t\t\tprintf(&#34;\t\t\t --&gt; Translates to Physical Address 0x%x --&gt; Value: 0x%x\\n&#34;,address,mem[address/32][address%32]);\n\t\t}\n\t}\n}\nint main(){\n\tFILE *fp=fopen(&#34;data.txt&#34;,&#34;rt&#34;);\n\tint index=0;\n\tchar a[1024];\n\tint offset = 9;\n\tunsigned int page=0x00;\n\tint data1=0,data2=0;\n\tint pde_idx=0,pde_ctx,pte_idx,pte_ctx;\n\twhile(!feof(fp)){\n\t\tfgets(a,1000,fp);\n\t\tfor(;i&lt;32;i&#43;&#43;){\n\t\t\t//mem[index][i]=value2(a,offset&#43;3*i);\n\t\t\tdata1=value(a,5);\n\t\t\tdata2=value(a,20);\n\t\t\tprintf(&#34;%d %d \\n&#34;,data1,data2);\t\n\t\t\tpde_idx=data1&gt;&gt;22;\n\t\t\tpde_ctx=((data1&gt;&gt;22-0x300)&#43;1)&lt;&lt;12&#43;3;\n\t\t\tpte_idx=(data1&gt;&gt;22-0x300&#43;1);\n\t\t\tpte_ctx=(data2&gt;&gt;12)\n\t\t}\n\t\tindex&#43;&#43;;\n\t};\n\treturn 0;\n}", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [], "type": "followup"}, {"uid": "i6tezdpdQbq", "no_answer": 0, "created": "2015-03-23T07:06:16Z", "id": "i7lj57zs2g47da", "updated": "2015-03-23T07:06:16Z", "subject": "<p>周昊 2012011326</p>\n<p></p>\n<p>代码为</p>\n<pre>raw_data = [&#39;va 0xc2265b1f, pa 0x0d8f1b1f&#39;, &#39;va 0xcc386bbc, pa 0x0414cbbc&#39;, &#39;va 0xc7ed4d57, pa 0x07311d57&#39;, &#39;va 0xca6cecc0, pa 0x0c9e9cc0&#39;, &#39;va 0xc18072e8, pa 0x007412e8&#39;, &#39;va 0xcd5f4b3a, pa 0x06ec9b3a&#39;, &#39;va 0xcc324c99, pa 0x0008ac99&#39;, &#39;va 0xc7204e52, pa 0x0b8b6e52&#39;, &#39;va 0xc3a90293, pa 0x0f1fd293&#39;, &#39;va 0xce6c3f32, pa 0x007d4f32&#39;]\nvaddr = [&#39;0xc2265b1f&#39;, &#39;0xcc386bbc&#39;, &#39;0xc7ed4d57&#39;, &#39;0xca6cecc0&#39;, &#39;0xc18072e8&#39;, &#39;0xcd5f4b3a&#39;, &#39;0xcc324c99&#39;, &#39;0xc7204e52&#39;, &#39;0xc3a90293&#39;, &#39;0xce6c3f32&#39;]\npaddr = [&#39;0x0d8f1b1f&#39;, &#39;0x0414cbbc&#39;, &#39;0x07311d57&#39;, &#39;0x0c9e9cc0&#39;, &#39;0x007412e8&#39;, &#39;0x06ec9b3a&#39;, &#39;0x0008ac99&#39;, &#39;0x0b8b6e52&#39;, &#39;0x0f1fd293&#39;, &#39;0x007d4f32&#39;]\n\nfor i in range(0, len(vaddr)):\n\tpde_idx = int(vaddr[i], 16) &gt;&gt; 22\n\tpte_idx = (int(vaddr[i], 16) &amp; 0x003fffff) &gt;&gt; 12\n\tpde_ctx = ((pde_idx &#43; 1) &lt;&lt; 12) | 0x003\n\tpte_ctx = (int(paddr[i], 16) &amp; 0xfffff000) | 0x003\n\tprint &#34;va %s, pa %s, pde_idx 0x%08x, pde_ctx 0x%08x, pte_idx 0x%08x, pte_ctx 0x%08x&#34; %(vaddr[i], paddr[i], pde_idx, pde_ctx, pte_idx, pte_ctx)</pre>\n<p style=\"text-align:left\">结果为</p>\n<pre style=\"text-align:left\">va 0xc2265b1f, pa 0x0d8f1b1f, pde_idx 0x00000308, pde_ctx 0x00309003, pte_idx 0x00000265, pte_ctx 0x0d8f1003\nva 0xcc386bbc, pa 0x0414cbbc, pde_idx 0x00000330, pde_ctx 0x00331003, pte_idx 0x00000386, pte_ctx 0x0414c003\nva 0xc7ed4d57, pa 0x07311d57, pde_idx 0x0000031f, pde_ctx 0x00320003, pte_idx 0x000002d4, pte_ctx 0x07311003\nva 0xca6cecc0, pa 0x0c9e9cc0, pde_idx 0x00000329, pde_ctx 0x0032a003, pte_idx 0x000002ce, pte_ctx 0x0c9e9003\nva 0xc18072e8, pa 0x007412e8, pde_idx 0x00000306, pde_ctx 0x00307003, pte_idx 0x00000007, pte_ctx 0x00741003\nva 0xcd5f4b3a, pa 0x06ec9b3a, pde_idx 0x00000335, pde_ctx 0x00336003, pte_idx 0x000001f4, pte_ctx 0x06ec9003\nva 0xcc324c99, pa 0x0008ac99, pde_idx 0x00000330, pde_ctx 0x00331003, pte_idx 0x00000324, pte_ctx 0x0008a003\nva 0xc7204e52, pa 0x0b8b6e52, pde_idx 0x0000031c, pde_ctx 0x0031d003, pte_idx 0x00000204, pte_ctx 0x0b8b6003\nva 0xc3a90293, pa 0x0f1fd293, pde_idx 0x0000030e, pde_ctx 0x0030f003, pte_idx 0x00000290, pte_ctx 0x0f1fd003\nva 0xce6c3f32, pa 0x007d4f32, pde_idx 0x00000339, pde_ctx 0x0033a003, pte_idx 0x000002c3, pte_ctx 0x007d4003</pre>\n<p></p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [], "type": "followup"}, {"uid": "i6t7mzhbhwF", "no_answer": 0, "created": "2015-03-23T07:06:19Z", "id": "i7lj5ab4esb50k", "updated": "2015-03-23T07:06:19Z", "subject": "<p></p>\n<div>\n<div>\n<p>va 0xcd82c07c, pa 0x0c20907c, pde_idx 0x00000336, pde_ctx  0x00037003, pte_idx 0x0000002c, pte_ctx  0x0c209003</p>\n<p>周界 2012011394</p>\n<p>张光耀 2012011403</p>\n<p></p>\n</div>\n</div>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [{"uid": "i6t7mzhbhwF", "created": "2015-03-23T12:33:46Z", "id": "i7luuefythk37p", "updated": "2015-03-23T12:33:46Z", "subject": "<p></p>\n<pre>def getAddr(va, pa):\n\n    pde_idx = (va &gt;&gt; 22)\n    pde_ctx = ((pde_idx - 0x300 &#43; 1) &lt;&lt; 12) &#43; 0x003\n    pte_idx = (va &gt;&gt; 12) &amp; 0x3FF\n    pte_ctx = ((pa &gt;&gt; 12) &lt;&lt; 12) &#43; 0x003\n\n    print &#39;va 0x%08x, pa 0x%08x, pde_idx 0x%08x, pde_ctx 0x%08x, pte_idx 0x%08x, pte_ctx 0x%08x&#39; % (va, pa, pde_idx, pde_ctx, pte_idx, pte_ctx)\n\nif __name__ == &#39;__main__&#39;:\n    \n    addrlist = [\n                [0xc2265b1f, 0x0d8f1b1f],\n                [0xcc386bbc, 0x0414cbbc],\n                [0xc7ed4d57, 0x07311d57],\n                [0xca6cecc0, 0x0c9e9cc0],\n                [0xc18072e8, 0x007412e8],\n                [0xcd5f4b3a, 0x06ec9b3a],\n                [0xcc324c99, 0x0008ac99],\n                [0xc7204e52, 0x0b8b6e52],\n                [0xc3a90293, 0x0f1fd293],\n                [0xce6c3f32, 0x007d4f32]\n                ]\n    for [va, pa] in addrlist:\n        getAddr(va, pa)</pre>\n<p></p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "children": [], "type": "feedback"}], "type": "followup"}, {"uid": "i6utvrywozd2vd", "no_answer": 0, "created": "2015-03-23T07:06:47Z", "id": "i7lj5wfoq0054h", "updated": "2015-03-23T07:06:47Z", "subject": "<p>李心田 2012011338</p>\n<p>陈天昱 2012011348</p>\n<p></p>\n<p>va: 0xc2265b1f, pa: 0xd8f1b1f, pde_idx, 0x308, pde_ctx, 0x9003, pte_idx: 0x265, pte_ctx: 0xd8f1003</p>\n<p>va: 0xcc386bbc, pa: 0x414cbbc, pde_idx, 0x330, pde_ctx, 0x31003, pte_idx: 0x386, pte_ctx: 0x414c003</p>\n<p>va: 0xc7ed4d57, pa: 0x7311d57, pde_idx, 0x31f, pde_ctx, 0x20003, pte_idx: 0x2d4, pte_ctx: 0x7311003</p>\n<p>va: 0xca6cecc0, pa: 0xc9e9cc0, pde_idx, 0x329, pde_ctx, 0x2a003, pte_idx: 0x2ce, pte_ctx: 0xc9e9003</p>\n<p>va: 0xc18072e8, pa: 0x7412e8, pde_idx, 0x306, pde_ctx, 0x7003, pte_idx: 0x7, pte_ctx: 0x741003</p>\n<p>va: 0xcd5f4b3a, pa: 0x6ec9b3a, pde_idx, 0x335, pde_ctx, 0x36003, pte_idx: 0x1f4, pte_ctx: 0x6ec9003</p>\n<p>va: 0xcc324c99, pa: 0x8ac99, pde_idx, 0x330, pde_ctx, 0x31003, pte_idx: 0x324, pte_ctx: 0x8a003</p>\n<p>va: 0xc7204e52, pa: 0xb8b6e52, pde_idx, 0x31c, pde_ctx, 0x1d003, pte_idx: 0x204, pte_ctx: 0xb8b6003</p>\n<p>va: 0xc3a90293, pa: 0xf1fd293, pde_idx, 0x30e, pde_ctx, 0xf003, pte_idx: 0x290, pte_ctx: 0xf1fd003</p>\n<p>va: 0xce6c3f32, pa: 0x7d4f32, pde_idx, 0x339, pde_ctx, 0x3a003, pte_idx: 0x2c3, pte_ctx: 0x7d4003</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [{"uid": "i6t2mk045q4", "created": "2015-03-23T08:18:31Z", "id": "i7llq4xibzj37d", "updated": "2015-03-23T08:18:31Z", "subject": "<p></p><pre>def translate(va, pa):<br />    print &#34;va 0x%08x, pa 0x%08x,&#34; % (va, pa),<br />    pde_idx = va &gt;&gt; 22<br />    pde_ctx = ((pde_idx &#43; 1) &lt;&lt; 12) | 0x3<br />    pte_idx = (va &gt;&gt; 12) &amp; 0x3ff<br />    pte_ctx = (pa &amp; 0xfffff000) | 0x3<br />    print &#34;pde_idx 0x%08x, pde_ctx 0x%08x,&#34; % (pde_idx, pde_ctx),<br />    print &#34;pte_idx 0x%08x, pte_ctx 0x%08x&#34; % (pte_idx, pte_ctx)<br /><br />test_data = [<br />    [0xc2265b1f, 0x0d8f1b1f],<br />    [0xcc386bbc, 0x0414cbbc],<br />    [0xc7ed4d57, 0x07311d57],<br />    [0xca6cecc0, 0x0c9e9cc0],<br />    [0xc18072e8, 0x007412e8],<br />    [0xcd5f4b3a, 0x06ec9b3a],<br />    [0xcc324c99, 0x0008ac99],<br />    [0xc7204e52, 0x0b8b6e52],<br />    [0xc3a90293, 0x0f1fd293],<br />    [0xce6c3f32, 0x007d4f32],<br />]<br /><br />for input in test_data:<br />    translate(input[0], input[1])<br /><br /></pre>\n<p></p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "children": [], "type": "feedback"}], "type": "followup"}, {"uid": "i6t1byqz5dE", "no_answer": 0, "created": "2015-03-23T07:07:02Z", "id": "i7lj68075uc7l2", "updated": "2015-03-23T07:07:02Z", "subject": "<p>石伟男 王轩</p>\n<p>va 0xc2265b1f, pa 0x0d8f1b1f, pde_idx 0x00000308, pde_ctx 0x00009003, pte_idx 0x<br />00000265, pte_ctx 0x0d8f1003<br />va 0xcc386bbc, pa 0x0414cbbc, pde_idx 0x00000330, pde_ctx 0x00031003, pte_idx 0x<br />00000386, pte_ctx 0x0414c003<br />va 0xc7ed4d57, pa 0x07311d57, pde_idx 0x0000031f, pde_ctx 0x00020003, pte_idx 0x<br />000002d4, pte_ctx 0x07311003<br />va 0xca6cecc0, pa 0x0c9e9cc0, pde_idx 0x00000329, pde_ctx 0x0002a003, pte_idx 0x<br />000002ce, pte_ctx 0x0c9e9003<br />va 0xc18072e8, pa 0x007412e8, pde_idx 0x00000306, pde_ctx 0x00007003, pte_idx 0x<br />00000007, pte_ctx 0x00741003<br />va 0xcd5f4b3a, pa 0x06ec9b3a, pde_idx 0x00000335, pde_ctx 0x00036003, pte_idx 0x<br />000001f4, pte_ctx 0x06ec9003<br />va 0xcc324c99, pa 0x0008ac99, pde_idx 0x00000330, pde_ctx 0x00031003, pte_idx 0x<br />00000324, pte_ctx 0x0008a003<br />va 0xc7204e52, pa 0x0b8b6e52, pde_idx 0x0000031c, pde_ctx 0x0001d003, pte_idx 0x<br />00000204, pte_ctx 0x0b8b6003<br />va 0xc3a90293, pa 0x0f1fd293, pde_idx 0x0000030e, pde_ctx 0x0000f003, pte_idx 0x<br />00000290, pte_ctx 0x0f1fd003<br />va 0xce6c3f32, pa 0x007d4f32, pde_idx 0x00000339, pde_ctx 0x0003a003, pte_idx 0x<br />000002c3, pte_ctx 0x007d4003</p>\n<p></p>\n<p></p>\n<p></p>\n<pre>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n#include &lt;cstring&gt;\n#include &lt;cstdio&gt;\nusing namespace std;\nvoid translate(int va, int pa) {\n    printf(&#34;va 0x%08x, pa 0x%08x, &#34;, va, pa);\n    int pde_idx = (va &amp; 0xcffc0000) &gt;&gt; 22;\n    printf(&#34;pde_idx 0x%08x, &#34;, pde_idx);\n    int no = pde_idx - 0x300 &#43; 1;\n    int pde_ctx = (no &lt;&lt; 12)&#43; 0x3;\n    printf(&#34;pde_ctx 0x%08x, &#34;, pde_ctx);\n    int pte_idx = (va &amp; 0x003ff000) &gt;&gt; 12;\n    printf(&#34;pte_idx 0x%08x, &#34;, pte_idx);\n    int pte_ctx = (pa &amp; 0xfffff000) | (0x3);\n    printf(&#34;pte_ctx 0x%08x\\n&#34;, pte_ctx);\n}\nint main() {\n    string s;\n    int va, pa;\n    while (scanf(&#34;va 0x%x, pa 0x%x\\n&#34;, &amp;va, &amp;pa) != EOF) {\n        translate(va, pa);\n    }\n    return 0;\n}</pre>\n<p></p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [{"uid": "i6ut1sgpijq", "created": "2015-03-23T07:07:37Z", "id": "i7lj6z11pm61is", "updated": "2015-03-23T07:07:37Z", "subject": "<p></p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "children": [], "type": "feedback"}, {"uid": "i6ut6cjo5lj4aa", "created": "2015-03-23T07:09:47Z", "id": "i7lj9qxho8s6j9", "updated": "2015-03-23T07:09:47Z", "subject": "<p>韦福超 2012011392</p>\n<p>王振 2012011397</p>\n<p>第一题</p>\n<blockquote>\n<p>因为还没有使能中断。退出之前执行的函数为&#xff1a;</p>\n<pre><code>   IN: \n     21208 0x00100069:  call   0x1015e2\n     21209 \n     21210 ----------------\n     21211 IN: \n     21212 0x001015e2:  push   %ebp\n     21213 0x001015e3:  mov    %esp,%ebp\n     21214 0x001015e5:  sti    \n     21215 \n     21216 ----------------\n     21217 IN: \n     21218 0x001015e6:  pop    %ebp\n     21219 \n     21220 ----------------\n     21221 IN: \n     21222 0x001015e7:  ret    \n     21223 \n     21224 ----------------\n     21225 IN: \n     21226 0x0010006e:  jmp    0x10006e\n     21227 \n     21228 Servicing hardware INT=0x20\n</code></pre>\n<p>最后是时钟中断&#xff0c;但还没有使能中断&#xff0c;因此直接退出了。</p>\n</blockquote>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "children": [], "type": "feedback"}], "type": "followup"}, {"uid": "i6ut1sgpijq", "no_answer": 0, "created": "2015-03-23T07:08:18Z", "id": "i7lj7ugmtan1os", "updated": "2015-03-23T07:08:18Z", "subject": "<p></p>\n<div>\n<div>\n<p>王振      2012011397</p>\n<p>韦福超  2012011392</p>\n<p>目前正在做</p>\n<p>va 0xcd82c07c, pa 0x0c20907c, pde_idx 0x00000336, pde_ctx  0x00037003, pte_idx 0x0000002c, pte_ctx  0x0000c20b</p>\n</div>\n</div>\n<p></p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [], "type": "followup"}, {"uid": "i6tawpo5Fm8", "no_answer": 0, "created": "2015-03-23T07:08:27Z", "id": "i7lj81ltr56l1", "updated": "2015-03-23T07:08:27Z", "subject": "va 0xcd82c07c, pa 0x0c20907c, pde_idx 0x00000336, pde_ctx 0x00037003, pte_idx 0x0000002c, pte_ctx 0x0000c20b\n张梦豪 2012011401", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [{"uid": "i6tawpo5Fm8", "created": "2015-03-23T15:33:34Z", "id": "i7m19mkvp017dd", "updated": "2015-03-23T15:33:34Z", "subject": "代码见下&#xff1a;\n#include \n#include \nusing namespace std;\n\nint main()\n{\n\tunsigned int va,pa;\n\tchar str[50];\n\tofstream fout(&#34;out.txt&#34;);\n\twhile (1)\n\t{\n\t\tcin&gt;&gt;hex&gt;&gt;str&gt;&gt;va&gt;&gt;str&gt;&gt;str&gt;&gt;pa;\n\t\tunsigned int pde_idx=va&gt;&gt;22;\n\t\tunsigned int pde_ctx=((pde_idx-0x300&#43;1)&lt;&lt;12)|0x3;\n\t\tunsigned int pte_idx=(va&amp;0x003FF000)&gt;&gt;12;\n\t\tunsigned int pte_ctx=(pa&gt;&gt;12)|0x3;\n\t\tfout&lt;", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "children": [], "type": "feedback"}], "type": "followup"}, {"uid": "i6un4iacNGX", "no_answer": 0, "created": "2015-03-23T07:09:34Z", "id": "i7lj9h11bzwtw", "updated": "2015-03-23T07:09:34Z", "subject": "<p>杜鹃 2012011354</p>\n<p>安高乐 2012011385</p>\n<p></p>\n<p>va 0xc2265b1f, pa 0x0d8f1b1f, pde_idx 0x308, pde_ctx 0x9003, pte_idx 0x265, pte_ctx 0xd8f1003</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [], "type": "followup"}, {"uid": "i6uayov5SAo", "no_answer": 0, "created": "2015-03-23T07:09:48Z", "id": "i7lj9s91fjf5vg", "updated": "2015-03-23T07:09:48Z", "subject": "<p>李载隆 2012080061</p>\n<p>我是跟旁听生一组...</p>\n<p></p>\n<p><code>va 0xcd82c07c, pa 0x0c20907c</code></p>\n<p></p>\n<p>va左移10位-&gt;pde_idx</p>\n<p>pde_idx后8位加1后&#xff0c;左移12位&#xff0c;最后两位为可读可写和是否有效位-&gt;pde_ctx</p>\n<p>va中间10位-&gt;ptd_idx</p>\n<p>pa的高20位左移12位&#xff0c;再加三.-&gt;pte_ctx </p>\n<p></p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [], "type": "followup"}, {"uid": "i718mp903qx", "no_answer": 0, "created": "2015-03-23T07:09:56Z", "id": "i7lj9xtbxi2v4", "updated": "2015-03-23T07:09:56Z", "subject": "<p>李日灵 2012011332</p>\n<p>楼华哲 2012011327</p>\n<p></p>\n<p>第一题&#xff1a;</p>\n<p>没有初始化IDT&#xff0c;当qemu运行时产生中断请求&#xff0c;发现无法处理&#xff0c;其产生一个异常&#xff0c;因为IDT表妹初始化&#xff0c;又处理不了这个异常&#xff0c;又产生了同一个异常&#xff0c;出现两次相同的异常&#xff0c;表明该异常无法处理&#xff0c;qemu退出</p>\n<p></p>\n<p>第四题&#xff1a;</p>\n<p>#include &lt;iostream&gt;<br />#include &lt;string&gt;</p>\n<p>unsigned int va,pa;</p>\n<p>using namespace std;</p>\n<p>int main() {<br /> va = 0xc2265b1f;<br /> pa = 0x0d8f1b1f;<br /> unsigned int n1 = va &gt;&gt; 22;<br /> unsigned int n2 = (va &gt;&gt; 12) % 1024;<br /> cout &lt;&lt; &#34;va &#34; &lt;&lt; hex &lt;&lt; va &lt;&lt; &#34;, pa &#34; &lt;&lt; pa;<br /> cout &lt;&lt; &#34;, pde_idx &#34; &lt;&lt; hex &lt;&lt; n1;<br /> n1 = n1-768;<br /> unsigned int pde_ctx = (n1 &lt;&lt; 12) &#43; 3;<br />}</p>\n<p>还没输出完</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [{"uid": "i718mp903qx", "created": "2015-03-23T10:49:47Z", "id": "i7lr4o0lu2t6jd", "updated": "2015-03-23T10:49:47Z", "subject": "<p>6教网络太差一直交不上来.....现在补一个完整的......</p>\n<p>#include &lt;iostream&gt;<br />unsigned int va,pa;</p>\n<p>using namespace std;</p>\n<p>int main() {<br /> va = 0xce6c3f32, pa = 0x007d4f32;<br /> unsigned int n1 = va &gt;&gt; 22;<br /> unsigned int n2 = (va &gt;&gt; 12) % 1024;<br /> cout &lt;&lt; &#34;va 0x&#34; &lt;&lt; hex &lt;&lt; va &lt;&lt; &#34;, pa 0x&#34; &lt;&lt; pa;<br /> cout &lt;&lt; &#34;, pde_idx 0x&#34; &lt;&lt; hex &lt;&lt; n1;<br /> n1 = n1-768&#43;1;<br /> unsigned int pde_ctx = (n1 &lt;&lt; 12) &#43; 3;<br /> cout &lt;&lt; &#34;, pde_ctx 0x&#34; &lt;&lt; hex &lt;&lt; pde_ctx;<br /> cout &lt;&lt; &#34;, pte_idx 0x&#34; &lt;&lt; hex &lt;&lt; n2;<br /> unsigned int pte_ctx = ((pa &gt;&gt; 12) &lt;&lt; 12) | 0x3;<br /> cout &lt;&lt; &#34;, pte_ctx 0x&#34; &lt;&lt; hex &lt;&lt; pte_ctx;<br />}</p>\n<p></p>\n<p>最后一个测例&#xff1a;</p>\n<pre><code>10. va 0xce6c3f32, pa 0x7d4f32, pde_idx 0x339, pde_ctx 0x3a003, pte_idx 0x2c3, pte_ctx 0x7d4003  </code></pre>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "children": [], "type": "feedback"}], "type": "followup"}, {"uid": "i6uak1ivjzr1i0", "no_answer": 0, "created": "2015-03-23T07:10:31Z", "id": "i7ljapc64qr10v", "updated": "2015-03-23T07:10:31Z", "subject": "<p>va 0xcd82c07c, pa 0x0c20907c, pde_idx 0x00000336,</p>\n<p>pde_ctx  0x00037003, pte_idx 0x0000002c, pte_ctx  0c209003</p>\n<p>徐天宇 2012011275</p>\n<p>韩慧阳 2012011276</p>\n<p>目前正在做&#xff0c;上面结果是手推的&#xff0c;感觉给出的样例的pte_ctx好像有些问题<img src=\"https://d1b10bmlvqabco.cloudfront.net/attach/i5j09fnsl7k5x0/i6uak1ivjzr1i0/i7lj9s6ionbr/搜狗截图20150323150931.png\" /></p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [{"uid": "i6uak1ivjzr1i0", "created": "2015-03-23T07:44:09Z", "id": "i7lkhyaagrw5uv", "updated": "2015-03-23T07:44:09Z", "subject": "<p>完整代码&#xff1a;</p>\n<p>void translation(unsigned va, unsigned pa)<br />{<br /> unsigned pde_idx = (va &amp; 0xffc00000) &gt;&gt; 22;<br /> unsigned pte_idx = (va &amp; 0x003ff000) &gt;&gt; 12;<br /> unsigned pde_ctx = ((pde_idx - 0x000002ff) &lt;&lt; 12 ) | 0x00000003; <br /> unsigned pte_ctx = (pa &amp; 0xfffff000) | 0x00000003;<br /> printf(&#34;va 0x%08x, pa 0x%08x, pde_idx 0x%08x, pde_ctx 0x%08x, pte_idx 0x%08x, pte_ctx 0x%08x&#34;, va, pa, pde_idx, pde_ctx, pte_idx, pte_ctx);<br />}</p>\n<p>int main()<br />{<br /> unsigned va,pa;<br /> scanf(&#34;va 0x%08x, pa 0x%08x&#34;, &amp;va, &amp;pa);<br /> translation(va, pa);<br />}</p>\n<p></p>\n<p>答案结果为&#xff1a;</p>\n<p>va 0xc2265b1f, pa 0x0d8f1b1f, pde_idx 0x00000308, pde_ctx 0x00009003, pte_idx 0x00000265, pte_ctx 0x0d8f1003</p>\n<p>va 0xcc386bbc, pa 0x0414cbbc, pde_idx 0x00000330, pde_ctx 0x00031003, pte_idx 0x00000386, pte_ctx 0x0414c003</p>\n<p>va 0xc7ed4d57, pa 0x07311d57, pde_idx 0x0000031f, pde_ctx 0x00020003, pte_idx 0x000002d4, pte_ctx 0x07311003</p>\n<p>va 0xca6cecc0, pa 0x0c9e9cc0, pde_idx 0x00000329, pde_ctx 0x0002a003, pte_idx 0x000002ce, pte_ctx 0x0c9e9003</p>\n<p>va 0xc18072e8, pa 0x007412e8, pde_idx 0x00000306, pde_ctx 0x00007003, pte_idx 0x00000007, pte_ctx 0x00741003</p>\n<p>va 0xcd5f4b3a, pa 0x06ec9b3a, pde_idx 0x00000335, pde_ctx 0x00036003, pte_idx 0x000001f4, pte_ctx 0x06ec9003</p>\n<p>va 0xcc324c99, pa 0x0008ac99, pde_idx 0x00000330, pde_ctx 0x00031003, pte_idx 0x00000324, pte_ctx 0x0008a003</p>\n<p>va 0xc7204e52, pa 0x0b8b6e52, pde_idx 0x0000031c, pde_ctx 0x0001d003, pte_idx 0x00000204, pte_ctx 0x0b8b6003</p>\n<p>va 0xc3a90293, pa 0x0f1fd293, pde_idx 0x0000030e, pde_ctx 0x0000f003, pte_idx 0x00000290, pte_ctx 0x0f1fd003</p>\n<p>va 0xce6c3f32, pa 0x007d4f32, pde_idx 0x00000339, pde_ctx 0x0003a003, pte_idx 0x000002c3, pte_ctx 0x007d4003</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "children": [], "type": "feedback"}], "type": "followup"}, {"uid": "i7bfq2txxyw689", "no_answer": 0, "created": "2015-03-23T07:11:03Z", "id": "i7ljbdv25md15b", "updated": "2015-03-23T07:11:03Z", "subject": "<p>代码&#xff1a;</p>\n<p></p>\n<p>#include&lt;iostream&gt;<br />#include&lt;bitset&gt;<br />#include&lt;stdio.h&gt;</p>\n<p>using namespace std;</p>\n<p>int main()<br />{<br /> unsigned int va, pa;<br /> unsigned int pde_idx, pde_ctx, pte_idx, pte_ctx;<br /> //va = 0xcd82c07c;<br /> //pa = 0x0c20907c;<br /> scanf(&#34;%x&#34;, &amp;va);<br /> scanf(&#34;%x&#34;, &amp;pa);<br /> unsigned int a1, a2, a3, b1, b2, b3;<br /> a1 = (va &amp; 0xffc00000) &gt;&gt; 22 ;<br /> a2 = (va &amp; 0x003ff000) &gt;&gt; 12 ;<br /> a3 = (va &amp; 0x00000fff);<br /> <br /> b1 = (pa &amp; 0xfffff000);<br /> b1 |= 0x003;<br /> <br /> pde_idx = a1;<br /> pde_ctx = (((pde_idx&#43;1)&lt;&lt;12) | 0x03);<br /> pte_idx = a2;<br /> pte_ctx = b1;<br /> <br /> printf(&#34;va 0x%08x, pa 0x%08x, pde_idx 0x%08x, pde_ctx 0x%08x, pte_idx 0x%08x, pte_ctx 0x%08x\\n&#34;,va,pa,pde_idx,pde_ctx,pte_idx,pte_ctx);<br /> <br /> return 0;<br />}</p>\n<p></p>\n<p></p>\n<p>其中一个结果如下&#xff1a;</p>\n<p></p>\n<p>0xc2265b1f<br />0x0d8f1b1f<br />va 0xc2265b1f, pa 0x0d8f1b1f, pde_idx 0x00000308, pde_ctx 0x00309003, pte_idx 0<br />x00000265, pte_ctx 0x0d8f1003</p>\n<p></p>\n<p>覃伟 2012011278</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [{"uid": "i7bfq2txxyw689", "created": "2015-03-23T07:22:18Z", "id": "i7ljpuggf0jue", "updated": "2015-03-23T07:22:18Z", "subject": "<p>求解pde_ctx 的时候忘减0x300了&#xff0c;正确的应该是&#xff1a;pde_ctx = (((pde_idx&#43;1-0x300)&lt;&lt;12) | 0x03);</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "children": [], "type": "feedback"}, {"uid": "i7bfq2txxyw689", "created": "2015-03-23T07:50:43Z", "id": "i7lkqe192d77ko", "updated": "2015-03-23T07:50:43Z", "subject": "<p>全部的输出结果如下&#xff1a;</p>\n<p>va 0xc2265b1f, pa 0x0d8f1b1f, pde_idx 0x00000308, pde_ctx 0x00009003, pte_idx 0x00000265, pte_ctx 0x0d8f1003<br />va 0xcc386bbc, pa 0x0414cbbc, pde_idx 0x00000330, pde_ctx 0x00031003, pte_idx 0x00000386, pte_ctx 0x0414c003<br />va 0xc7ed4d57, pa 0x07311d57, pde_idx 0x0000031f, pde_ctx 0x00020003, pte_idx 0x000002d4, pte_ctx 0x07311003<br />va 0xca6cecc0, pa 0x0c9e9cc0, pde_idx 0x00000329, pde_ctx 0x0002a003, pte_idx 0x000002ce, pte_ctx 0x0c9e9003<br />va 0xc18072e8, pa 0x007412e8, pde_idx 0x00000306, pde_ctx 0x00007003, pte_idx 0x00000007, pte_ctx 0x00741003<br />va 0xcd5f4b3a, pa 0x06ec9b3a, pde_idx 0x00000335, pde_ctx 0x00036003, pte_idx 0x000001f4, pte_ctx 0x06ec9003<br />va 0xcc324c99, pa 0x0008ac99, pde_idx 0x00000330, pde_ctx 0x00031003, pte_idx 0x00000324, pte_ctx 0x0008a003<br />va 0xc7204e52, pa 0x0b8b6e52, pde_idx 0x0000031c, pde_ctx 0x0001d003, pte_idx 0x00000204, pte_ctx 0x0b8b6003<br />va 0xc3a90293, pa 0x0f1fd293, pde_idx 0x0000030e, pde_ctx 0x0000f003, pte_idx 0x00000290, pte_ctx 0x0f1fd003<br />va 0xce6c3f32, pa 0x007d4f32, pde_idx 0x00000339, pde_ctx 0x0003a003, pte_idx 0x000002c3, pte_ctx 0x007d4003</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "children": [], "type": "feedback"}], "type": "followup"}, {"uid": "i6ub691ffHe", "no_answer": 0, "created": "2015-03-23T07:14:52Z", "id": "i7ljga4iwps364", "updated": "2015-03-23T07:14:52Z", "subject": "<p>王昊 2012011341 </p>\n<p>党唯真 2012011324</p>\n<p></p>\n<p>倒数第三题</p>\n<p>va 0xc7204e52, pa 0x0b8b6e52</p>\n<p>pde idx 0000 0000 0000 0000 0000 00-11 0001 1100 0x0000031c<br />pde ctx 0000 0000 0000 0001 1101 0000 0000 0011 0x0001e003<br />pte idx 0000 0000 0000 0000 0000 00-10 0000 0100 0x00000204<br />pte ctx 0000 1011 1000 1011 0110 0000 0000 0011 0x0b8b6003</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [], "type": "followup"}, {"uid": "i6vgn93glrq25f", "no_answer": 0, "created": "2015-03-23T08:13:06Z", "id": "i7llj6hkntiuo", "updated": "2015-03-23T08:13:06Z", "subject": "<p></p><ol><li>def translate(va,pa):<br />    pde_idx=(va&amp;0xffc00000)&gt;&gt;22<br />    pte_idx=(va&amp;0x00cff000)&gt;&gt;12<br />    pde_ctx=((pde_idx-0x300&#43;0x1)&lt;&lt;12)|0x3<br />    pte_ctx=(pa&amp;0xfffff000)|0x3<br />    print(&#34;va 0x%x,pa 0x%x,pde_idx 0x%x,pde_ctx 0x%x,pte_idx 0x%x,pte_ctx 0x%x&#34;\\<br />          %(va,pa,pde_idx,pde_ctx,pte_idx,pte_ctx))<br /><br />va=0xc2265b1f<br />pa=0x0d8f1b1f<br />translate(va,pa)</li><li>结果为</li><li>va 0xc2265b1f,pa 0xd8f1b1f,pde_idx 0x308,pde_ctx 0x9003,pte_idx 0x65,pte_ctx 0xd8f1003<br /><br /></li></ol>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [], "type": "followup"}, {"uid": "i6u94pk3j2C", "no_answer": 0, "created": "2015-03-23T14:12:06Z", "id": "i7lycurwiiq7m7", "updated": "2015-03-23T14:12:06Z", "subject": "<p>田家申 2012011296</p>\n<p></p>\n<p>va c2265b1f, pa d8f1b1f, pde_idx 308, pde_ctx: 9003, pte_idx 265, pte_cxt d8f1003<br />va cc386bbc, pa 414cbbc, pde_idx 330, pde_ctx: 31003, pte_idx 386, pte_cxt 414c003<br />va c7ed4d57, pa 7311d57, pde_idx 31f, pde_ctx: 20003, pte_idx 2d4, pte_cxt 7311003<br />va ca6cecc0, pa c9e9cc0, pde_idx 329, pde_ctx: 2a003, pte_idx 2ce, pte_cxt c9e9003<br />va c18072e8, pa 7412e8, pde_idx 306, pde_ctx: 7003, pte_idx 7, pte_cxt 741003<br />va cd5f4b3a, pa 6ec9b3a, pde_idx 335, pde_ctx: 36003, pte_idx 1f4, pte_cxt 6ec9003<br />va cc324c99, pa 8ac99, pde_idx 330, pde_ctx: 31003, pte_idx 324, pte_cxt 8a003<br />va c7204e52, pa b8b6e52, pde_idx 31c, pde_ctx: 1d003, pte_idx 204, pte_cxt b8b6003<br />va c3a90293, pa f1fd293, pde_idx 30e, pde_ctx: f003, pte_idx 290, pte_cxt f1fd003<br />va ce6c3f32, pa 7d4f32, pde_idx 339, pde_ctx: 3a003, pte_idx 2c3, pte_cxt 7d4003<br />va cd82c07c, pa c20907c, pde_idx 336, pde_ctx: 37003, pte_idx 2c, pte_cxt c209003</p>\n<p></p>\n<p>取va最高10位为pde_idx&#xff0c;pde_idx&#43;1左移12位再或0x3得到pde_ctx&#xff0c;va的22到13位为pte_idx&#xff0c;pa的最高20位左移12位再或0x3得到pte_cxt.</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [], "type": "followup"}, {"uid": "i6uswob7jl4242", "no_answer": 0, "created": "2015-03-23T14:33:10Z", "id": "i7lz3y34jwh5qv", "updated": "2015-03-23T14:33:10Z", "subject": "<p>va 0xcd82c07c, pa 0x0c20907c, pde_idx 0x00000336, pde_ctx 0x00037003, pte_idx 0x0000002c, pte_ctx 0x0000c20b</p>\n<p>马晓彬 2012011402</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [], "type": "followup"}, {"uid": "i6usx54odpz38p", "no_answer": 0, "created": "2015-03-23T15:10:21Z", "id": "i7m0fr95yrd69q", "updated": "2015-03-23T15:10:21Z", "subject": "<p>2012011390    刘争争</p>\n<p>2012011396    谢雷振</p>\n<p>代码为&#xff1a;</p>\n<p>#include &lt;stdio.h&gt;<br />#include &lt;iostream&gt;</p>\n<p>using namespace std;</p>\n<p>void VaToPa(int va, int pa)<br />{<br /> int pde_idx, pde_ctx;<br /> int pte_idx, pte_ctx;<br /> pde_idx = (va &amp; 0xffffffff) &gt;&gt; 22;<br /> pde_ctx = (((pde_idx - 0x300)&#43; 1) &lt;&lt; 12) &#43; 0x3;<br /> pte_idx = (va &gt;&gt; 12) &amp; 0x3ff;<br /> pte_ctx = ((pa &gt;&gt; 12) &lt;&lt; 12) &#43; 0x3;<br /> printf(&#34;va 0x%08x, pa 0x%08x, &#34;, va, pa);<br /> printf(&#34;pde_idx 0x%08x, &#34;, pde_idx);<br /> printf(&#34;pde_ctx 0x%08x, &#34;, pde_ctx);<br /> printf(&#34;pte_idx 0x%08x, &#34;, pte_idx);<br /> printf(&#34;pte_ctx 0x%08x\\n&#34;, pte_ctx);<br />} <br /> <br />int main()<br />{<br /> int va, pa;<br /> while(scanf(&#34;va %x, pa %x&#34;, &amp;va, &amp;pa) != EOF)<br /> {<br /> VaToPa(va, pa);<br /> system(&#34;pause&#34;);<br /> } <br /> <br /> system(&#34;pause&#34;);<br /> return 0;<br />}</p>\n<p></p>\n<p>结果为&#xff1a;</p>\n<p>va 0xc2265b1f, pa 0x0d8f1b1f, pde_idx 0x00000308, pde_ctx 0x00009003, pte_idx 0x00000265, pte_ctx 0x0d8f1003<br /> va 0xcc386bbc, pa 0x0414cbbc, pde_idx 0x00000330, pde_ctx 0x00031003, pte_idx 0x00000386, pte_ctx 0x0414c003<br /> va 0xc7ed4d57, pa 0x07311d57, pde_idx 0x0000031f, pde_ctx 0x00020003, pte_idx 0x000002d4, pte_ctx 0x07311003<br /> va 0xca6cecc0, pa 0x0c9e9cc0, pde_idx 0x00000329, pde_ctx 0x0002a003, pte_idx 0x000002ce, pte_ctx 0x0c9e9003<br /> va 0xc18072e8, pa 0x007412e8, pde_idx 0x00000306, pde_ctx 0x00007003, pte_idx 0x00000007, pte_ctx 0x00741003<br /> va 0xcd5f4b3a, pa 0x06ec9b3a, pde_idx 0x00000335, pde_ctx 0x00036003, pte_idx 0x000001f4, pte_ctx 0x06ec9003<br /> va 0xcc324c99, pa 0x0008ac99, pde_idx 0x00000330, pde_ctx 0x00031003, pte_idx 0x00000324, pte_ctx 0x0008a003<br /> va 0xc7204e52, pa 0x0b8b6e52, pde_idx 0x0000031c, pde_ctx 0x0001d003, pte_idx 0x00000204, pte_ctx 0x0b8b6003<br /> va 0xc3a90293, pa 0x0f1fd293, pde_idx 0x0000030e, pde_ctx 0x0000f003, pte_idx 0x00000290, pte_ctx 0x0f1fd003<br /> va 0xce6c3f32, pa 0x007d4f32, pde_idx 0x00000339, pde_ctx 0x0003a003, pte_idx 0x000002c3, pte_ctx 0x007d4003</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [], "type": "followup"}, {"uid": "i71gwykbgjv4pp", "no_answer": 0, "created": "2015-03-24T07:05:37Z", "id": "i7myk8zh6ik1q", "updated": "2015-03-24T07:05:37Z", "subject": "<p>杨海宇2013210422</p>\n<p></p>\n<p>问题1&#xff1a;</p>\n<p>没有设置IDT&#xff0c;因为idt_init没有实现。之后触发了int 0x20&#xff0c;然后对应的中断处理没有设置。然后&#xff08;估计是&#xff09;触发了保护机制</p>\n<p>问题2&#xff1a;</p>\n<p>有差异。提示</p>\n<p>kernel panic&#xff0c;unexcepted trap in kernel</p>\n<p></p>\n<p></p>\n<p>问题3&#xff1a;</p>\n<p>memmap-&gt;map[i].size, begin, end - 1, memmap-&gt;map[i].type</p>\n<p>数字分别为&#xff0c;free块的大小、起始地址、结束地址&#xff0c;类型。</p>\n<p></p>\n<p></p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [], "type": "followup"}, {"uid": "i72pfncnlhrpp", "no_answer": 0, "created": "2015-03-24T07:09:18Z", "id": "i7myoz6lweuq4", "updated": "2015-03-24T07:09:18Z", "subject": "<p>杨松霖 2014210930</p>\n<p>问题1&#xff1a;中断程序的处理未实现</p>\n<p><img src=\"https://d1b10bmlvqabco.cloudfront.net/attach/i5j09fnsl7k5x0/i72pfncnlhrpp/i7mynbcgb615/QQ截图20150324150748.png\" /></p>\n<p></p>\n<p></p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [], "type": "followup"}, {"uid": "hs2swpdtr91gu", "no_answer": 0, "created": "2015-03-24T07:09:27Z", "id": "i7myp62sbj8361", "updated": "2015-03-24T07:09:27Z", "subject": "<p>没有中断处理程序&#xff0c;发生了triple fault</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [], "type": "followup"}, {"uid": "i718tzooxoe4kn", "no_answer": 0, "created": "2015-03-24T07:09:43Z", "id": "i7mypifkzs114x", "updated": "2015-03-24T07:09:43Z", "subject": "<p>冯丽婷 2014210933</p>\n<p>王佩琪 2014310585</p>\n<p></p>\n<p>1. 触发INT=0x20&#xff0c;因为lab1中没有设置相应的中断处理</p>\n<p>2. 有差异</p>\n<p></p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [], "type": "followup"}, {"uid": "i72xyao1QhO", "no_answer": 0, "created": "2015-03-24T09:17:56Z", "id": "i7n3aeq470325t", "updated": "2015-03-24T09:17:56Z", "subject": "<p>彭小详P14226010</p>\n<p>3.</p>\n<p>memory management: default_pmm_manager<br />e820map:<br />  memory: 0009fc00, [00000000, 0009fbff], type = 1, --&gt;E820_ARM.<br />  memory: 00000400, [0009fc00, 0009ffff], type = 2, --&gt;E820_ARR.<br />  memory: 00010000, [000f0000, 000fffff], type = 2, --&gt;E820_ARR.<br />  memory: 07ee0000, [00100000, 07fdffff], type = 1, --&gt;E820_ARM.<br />  memory: 00020000, [07fe0000, 07ffffff], type = 2, --&gt;E820_ARR.<br />  memory: 00040000, [fffc0000, ffffffff], type = 2, --&gt;E820_ARR.<br />check_alloc_page() succeeded!<br />4.</p>\n<p>code.......................................参考格式中的例子是不是有误啊?</p>\n<p># copy from ucore--------begin<br /># A linear address &#39;la&#39; has a three-part structure as follows:<br />#<br /># &#43;--------10------&#43;-------10-------&#43;---------12----------&#43;<br /># | Page Directory |   Page Table   | Offset within Page  |<br /># |      Index     |     Index      |                     |<br /># &#43;----------------&#43;----------------&#43;---------------------&#43;<br />#  \\--- PDX(la) --/ \\--- PTX(la) --/ \\---- PGOFF(la) ----/<br />#  \\----------- PPN(la) -----------/<br />#copy from ucore--------end<br /><br />PTE_P = 0x001<br />PTE_W = 0x002<br />PDXSHIFT = 22<br />PTXSHIFT = 12<br />def PDX(la):<br />    return la &gt;&gt; PDXSHIFT &amp; 0x3ff<br />def PTX(la):<br />    return la &gt;&gt; PTXSHIFT &amp; 0x3ff<br />def SetBitInfo(item, mask, info):<br />    return (item &amp; mask)|info<br /><br />format_info = &#34;va 0x%08x, pa 0x%08x, pde_idx 0x%08x, pde_ctx  0x%08x, pte_idx 0x%08x, pte_ctx  0x%08x&#34;<br />def translation((va, pa)):<br /><br />    pde_idx = PDX(va)<br />    pte_idx = PTX(va)<br />    pde_ctx = SetBitInfo((pde_idx - 0x300  &#43; 1)&lt;&lt;12, 0xfffff000, PTE_P|PTE_W)<br />    pte_ctx = SetBitInfo(pa&amp;0xfffff000, 0xfffff000,PTE_P|PTE_W)<br /><br />    print format_info%(va, pa, pde_idx, pde_ctx, pte_idx, pte_ctx)<br /><br />testArray = [<br />    (0xc2265b1f, 0x0d8f1b1f),<br />    (0xcc386bbc, 0x0414cbbc),<br />    (0xc7ed4d57, 0x07311d57),<br />    (0xca6cecc0, 0x0c9e9cc0),<br />    (0xc18072e8, 0x007412e8),<br />    (0xcd5f4b3a, 0x06ec9b3a),<br />    (0xcc324c99, 0x0008ac99),<br />    (0xc7204e52, 0x0b8b6e52),<br />    (0xc3a90293, 0x0f1fd293),<br />    (0xce6c3f32, 0x007d4f32)<br />]<br />translation((0xcd82c07c, 0x0c20907c))<br />for test_info in testArray:<br />    translation(test_info)</p>\n<p>-----------------------------------------</p>\n<p>result:</p>\n<p>-------------------参考格式中的</p>\n<p>va 0xcd82c07c, pa 0x0c20907c, pde_idx 0x00000336, pde_ctx  0x00037003, pte_idx 0x0000002c, pte_ctx  0x0c209003</p>\n<p>-------------------next<br />va 0xc2265b1f, pa 0x0d8f1b1f, pde_idx 0x00000308, pde_ctx  0x00009003, pte_idx 0x00000265, pte_ctx  0x0d8f1003<br />va 0xcc386bbc, pa 0x0414cbbc, pde_idx 0x00000330, pde_ctx  0x00031003, pte_idx 0x00000386, pte_ctx  0x0414c003<br />va 0xc7ed4d57, pa 0x07311d57, pde_idx 0x0000031f, pde_ctx  0x00020003, pte_idx 0x000002d4, pte_ctx  0x07311003<br />va 0xca6cecc0, pa 0x0c9e9cc0, pde_idx 0x00000329, pde_ctx  0x0002a003, pte_idx 0x000002ce, pte_ctx  0x0c9e9003<br />va 0xc18072e8, pa 0x007412e8, pde_idx 0x00000306, pde_ctx  0x00007003, pte_idx 0x00000007, pte_ctx  0x00741003<br />va 0xcd5f4b3a, pa 0x06ec9b3a, pde_idx 0x00000335, pde_ctx  0x00036003, pte_idx 0x000001f4, pte_ctx  0x06ec9003<br />va 0xcc324c99, pa 0x0008ac99, pde_idx 0x00000330, pde_ctx  0x00031003, pte_idx 0x00000324, pte_ctx  0x0008a003<br />va 0xc7204e52, pa 0x0b8b6e52, pde_idx 0x0000031c, pde_ctx  0x0001d003, pte_idx 0x00000204, pte_ctx  0x0b8b6003<br />va 0xc3a90293, pa 0x0f1fd293, pde_idx 0x0000030e, pde_ctx  0x0000f003, pte_idx 0x00000290, pte_ctx  0x0f1fd003<br />va 0xce6c3f32, pa 0x007d4f32, pde_idx 0x00000339, pde_ctx  0x0003a003, pte_idx 0x000002c3, pte_ctx  0x007d4003<br /><br /></p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [], "type": "followup"}, {"uid": "i72y5jn7PgK", "no_answer": 0, "created": "2015-03-24T13:11:19Z", "id": "i7nbmjqy9mk46l", "updated": "2015-03-24T13:11:19Z", "subject": "<p>P14200003 胡亚洲</p>\n<p>1    INT=0x20未进行相应到处理。2    有差别</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [], "type": "followup"}], "type": "note", "unique_views": 111, "created": "2015-03-23T06:07:02Z", "id": "i7lh12bmu342ka", "tags": ["instructor-note", "lab2"], "nr": 157, "data": {"embed_links": []}, "upvote_ids": [], "is_tag_good": false, "config": {}, "folders": ["lab2"], "bucket_order": 2, "change_log": [{"uid": "hdjonbiyfs62ie", "when": "2015-03-23T06:07:02Z", "data": "i7lh12c02ta2kb", "anon": "no", "type": "create"}, {"uid": "i6t6y9snjx2", "when": "2015-03-23T06:29:59Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6s09f3xHOf", "when": "2015-03-23T06:35:07Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6t6y9snjx2", "when": "2015-03-23T06:36:56Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "feedback"}, {"uid": "i6rgda76fc66q4", "when": "2015-03-23T06:37:20Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6s09f3xHOf", "when": "2015-03-23T06:46:34Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "feedback"}, {"uid": "i71i9b92nrr7n4", "when": "2015-03-23T06:54:32Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6uehzyhtye4i2", "when": "2015-03-23T06:59:14Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6ub5at2geM", "when": "2015-03-23T06:59:56Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6uunp7jxDb", "when": "2015-03-23T07:01:42Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "feedback"}, {"uid": "i6roqnlkmtw", "when": "2015-03-23T07:02:04Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6ublqcaxvu6el", "when": "2015-03-23T07:03:03Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6ub7i4hdcc", "when": "2015-03-23T07:03:45Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i71fykcui1h2je", "when": "2015-03-23T07:04:10Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6uji18l8j51ob", "when": "2015-03-23T07:04:21Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6sl02qfUgI", "when": "2015-03-23T07:05:24Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6t7mzhbhwF", "when": "2015-03-23T07:05:52Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "feedback"}, {"uid": "i6t76fg9sEh", "when": "2015-03-23T07:05:53Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6ut1sgpijq", "when": "2015-03-23T07:05:56Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "feedback"}, {"uid": "i6xgf2t8N7w", "when": "2015-03-23T07:06:01Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6tezdpdQbq", "when": "2015-03-23T07:06:16Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6t7mzhbhwF", "when": "2015-03-23T07:06:19Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6utvrywozd2vd", "when": "2015-03-23T07:06:47Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6t1byqz5dE", "when": "2015-03-23T07:07:02Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6ut1sgpijq", "when": "2015-03-23T07:07:37Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "feedback"}, {"uid": "i6ut1sgpijq", "when": "2015-03-23T07:08:18Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6tawpo5Fm8", "when": "2015-03-23T07:08:27Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6un4iacNGX", "when": "2015-03-23T07:09:34Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6ut6cjo5lj4aa", "when": "2015-03-23T07:09:47Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "feedback"}, {"uid": "i6uayov5SAo", "when": "2015-03-23T07:09:49Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i718mp903qx", "when": "2015-03-23T07:09:56Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6uak1ivjzr1i0", "when": "2015-03-23T07:10:31Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i7bfq2txxyw689", "when": "2015-03-23T07:11:03Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6ub691ffHe", "when": "2015-03-23T07:14:52Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i7bfq2txxyw689", "when": "2015-03-23T07:22:18Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "feedback"}, {"uid": "i6uak1ivjzr1i0", "when": "2015-03-23T07:44:09Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "feedback"}, {"uid": "i7bfq2txxyw689", "when": "2015-03-23T07:50:43Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "feedback"}, {"uid": "i6vgn93glrq25f", "when": "2015-03-23T08:13:06Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6t2mk045q4", "when": "2015-03-23T08:18:31Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "feedback"}, {"uid": "i718mp903qx", "when": "2015-03-23T10:49:47Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "feedback"}, {"uid": "i6uehzyhtye4i2", "when": "2015-03-23T11:12:26Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "feedback"}, {"uid": "i6ub5at2geM", "when": "2015-03-23T11:36:11Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "feedback"}, {"uid": "i6t7mzhbhwF", "when": "2015-03-23T12:33:46Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "feedback"}, {"uid": "i6u94pk3j2C", "when": "2015-03-23T14:12:06Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6uswob7jl4242", "when": "2015-03-23T14:33:10Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6usx54odpz38p", "when": "2015-03-23T15:10:21Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i6tawpo5Fm8", "when": "2015-03-23T15:33:34Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "feedback"}, {"uid": "i71gwykbgjv4pp", "when": "2015-03-24T07:05:37Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i72pfncnlhrpp", "when": "2015-03-24T07:09:18Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "hs2swpdtr91gu", "when": "2015-03-24T07:09:27Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i718tzooxoe4kn", "when": "2015-03-24T07:09:43Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i72xyao1QhO", "when": "2015-03-24T09:17:56Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}, {"uid": "i72y5jn7PgK", "when": "2015-03-24T13:11:19Z", "to": "i7lh12bmu342ka", "anon": "no", "type": "followup"}], "bucket_name": "Today", "request_instructor_me": false, "no_answer_followup": 0, "num_favorites": 0, "tag_good": []}}