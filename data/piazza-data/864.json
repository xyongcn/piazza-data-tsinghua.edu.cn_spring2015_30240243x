{"aid": "iod0z0zakmu3wb", "result": {"folders": ["lecture22", "课堂问答"], "unique_views": 87, "request_instructor_me": false, "change_log": [{"data": "io7bsma1n9u52k", "anon": "no", "when": "2016-05-14T15:46:44Z", "uid": "hdjonbiyfs62ie", "type": "create"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-14T15:47:10Z", "uid": "hdjonbiyfs62ie", "type": "followup"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-14T15:47:22Z", "uid": "hdjonbiyfs62ie", "type": "followup"}, {"data": "io9bif14cbl2c7", "anon": "no", "when": "2016-05-16T01:14:20Z", "uid": "hdjonbiyfs62ie", "type": "update"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-16T01:38:18Z", "uid": "i0nuu5yhgno5tv", "type": "feedback"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-16T01:54:49Z", "uid": "ie7xy71bn7b1s2", "type": "feedback"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-16T01:56:36Z", "uid": "i0f24oie8102cr", "type": "feedback"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-16T02:03:14Z", "uid": "ic226rac4j5jw", "type": "feedback"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-16T02:39:59Z", "uid": "i0yuo4o74sx70w", "type": "feedback"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-16T08:07:07Z", "uid": "i6ugy67km5b", "type": "feedback"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-16T14:45:05Z", "uid": "i3qk2vs65x276j", "type": "feedback"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-16T15:14:47Z", "uid": "ikvcvqz0jx17m1", "type": "feedback"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-17T08:04:03Z", "uid": "ikvcvo2cckb7jb", "type": "feedback"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-17T08:21:29Z", "uid": "i70lz5f0QKm", "type": "feedback"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-17T09:16:06Z", "uid": "i6uaz437IKR", "type": "feedback"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-17T10:50:49Z", "uid": "i6ub4vwhQXd", "type": "feedback"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-17T10:51:46Z", "uid": "ikvcvr0o2bs7m3", "type": "feedback"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-17T11:06:05Z", "uid": "i0nu5by9l7v7of", "type": "feedback"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-17T11:24:41Z", "uid": "i0f7v0qgfm61s6", "type": "feedback"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-17T11:33:18Z", "uid": "i0zaci5voig5h", "type": "feedback"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-17T11:49:00Z", "uid": "ikx8y1dzPrM", "type": "feedback"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-17T11:57:32Z", "uid": "i11dx198ive25r", "type": "feedback"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-17T15:11:47Z", "uid": "i11v1az5sf83l2", "type": "feedback"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-18T02:36:54Z", "uid": "ikvcvp62fcm7ka", "type": "feedback"}, {"to": "io7bsm9zhi52j", "anon": "no", "when": "2016-05-18T05:11:47Z", "uid": "ikvcvr6di5i7ma", "type": "feedback"}], "upvote_ids": [], "id": "io7bsm9zhi52j", "bookmarked": 22, "no_answer_followup": 2, "i_edits": [], "is_bookmarked": false, "children": [{"folders": [], "updated": "2016-05-14T15:47:10Z", "no_upvotes": 0, "uid": "hdjonbiyfs62ie", "created": "2016-05-14T15:47:10Z", "type": "followup", "no_answer": 1, "id": "io7bt6sx37q6ua", "anon": "no", "bucket_name": "Last week", "config": {}, "bucket_order": 5, "data": null, "children": [{"folders": [], "updated": "2016-05-16T01:38:18Z", "uid": "i0nuu5yhgno5tv", "created": "2016-05-16T01:38:18Z", "type": "feedback", "id": "io9cd8x0o9y18d", "anon": "no", "bucket_name": "This week", "config": {}, "bucket_order": 4, "data": null, "children": [], "subject": "<p>2013011413 高思达 2013011402 钱迪晨</p>\n<p><a href=\"https://github.com/nathenqian/ucore_spoc/blob/master/spoc_22/problem1.txt\" target=\"_blank\">答案</a></p>"}, {"folders": [], "updated": "2016-05-16T01:54:49Z", "uid": "ie7xy71bn7b1s2", "created": "2016-05-16T01:54:49Z", "type": "feedback", "id": "io9cyhiqgt93j8", "anon": "no", "bucket_name": "This week", "config": {}, "bucket_order": 4, "data": null, "children": [], "subject": "<p></p><p>在sfs的底层I/O函数sfs_rwblock中打印了调用堆栈局部如下</p>\n<p>ebp:0xc0367b18 eip:0xc0113020 args:0xc0354340 0xc036e000 0x0000009f 0x00000000 </p>\n<p>    kern/fs/sfs/sfs_io.c:49: sfs_rwblock&#43;102</p>\n<p>ebp:0xc0367b48 eip:0xc0113052 args:0xc0354340 0xc036d000 0x0000009e 0x00000001 </p>\n<p>    kern/fs/sfs/sfs_io.c:63: sfs_rblock&#43;27</p>\n<p>ebp:0xc0367b98 eip:0xc011202a args:0xc0354340 0xc03545e8 0xc036d000 0x00001000 </p>\n<p>    kern/fs/sfs/sfs_inode.c:622: sfs_io_nolock&#43;501</p>\n<p>ebp:0xc0367be8 eip:0xc011219f args:0xc03545e8 0xc0367c2c 0x00000000 0x00000001 </p>\n<p>    kern/fs/sfs/sfs_inode.c:658: sfs_io&#43;174</p>\n<p>ebp:0xc0367c08 eip:0xc01121e7 args:0xc03545e8 0xc0367c2c 0x00001000 0x00001000 </p>\n<p>    kern/fs/sfs/sfs_inode.c:670: sfs_read&#43;21</p>\n<p>ebp:0xc0367c58 eip:0xc0109ee1 args:0x00000000 0xc036d000 0x00001000 0xc0367c7c </p>\n<p>    kern/fs/file.c:226: file_read&#43;218</p>\n<p>ebp:0xc0367c98 eip:0xc010ab33 args:0x00000000 0xc036b000 0x00001000 0xc015ab0c </p>\n<p>    kern/fs/sysfile.c:80: sysfile_read&#43;158</p>\n<p>ebp:0xc0367cc8 eip:0xc010c133 args:0x00000000 0xc036b000 0x00001000 0x00001000 </p>\n<p>    kern/process/proc.c:581: load_icode_read&#43;55</p>\n<p>ebp:0xc0367da8 eip:0xc010c3d7 args:0x00000000 0x00000001 0xc0367dc8 0xc0367fdc </p>\n<p>    kern/process/proc.c:683: load_icode&#43;640</p>\n<p>ebp:0xc0367e98 eip:0xc010cb56 args:0xc0116b90 0x00000001 0xc0367fdc 0xc0367ebc </p>\n<p>    kern/process/proc.c:855: do_execve&#43;419</p>\n<p>ebp:0xc0367ec8 eip:0xc010dcf2 args:0xc0367ee4 0x00000002 0x00000002 0x00000000 </p>\n<p>    kern/syscall/syscall.c:39: sys_exec&#43;52</p>\n<p>ebp:0xc0367f08 eip:0xc010dfe4 args:0xc0113587 0x0000000a 0xc0367f80 0x00000000 </p>\n<p>    kern/syscall/syscall.c:199: syscall&#43;118</p>\n<p>ebp:0xc0367f28 eip:0xc0102854 args:0xc0367f64 0xfffffffd 0x0000000a 0x00000002 </p>\n<p>    kern/trap/trap.c:217: trap_dispatch&#43;272</p>\n<p>这个调用堆栈基本能够表明读文件的I/O过程:</p>\n<p>系统调用中的sys_exec和sys_read都会调用到sysfile_read, 这是总的读文件的入口.</p>\n<p>然后调用到file_read中有vop_read, 这是一个宏, 展开后调用到inode-&gt;vop_read, 这个在inode初始化的时候导向sfs_read</p>\n<p>之后sfs调用到dop_io, 调用的是device对象的io函数, 这个是设备的io操作, 最后就完成了读设备的过程</p>"}, {"folders": [], "updated": "2016-05-16T01:56:36Z", "uid": "i0f24oie8102cr", "created": "2016-05-16T01:56:36Z", "type": "feedback", "id": "io9d0rhe7hv1ia", "anon": "no", "bucket_name": "This week", "config": {}, "bucket_order": 4, "data": null, "children": [], "subject": "<p>沈哲言 2013011371  叶子鹏2013011404</p>\n<p></p>\n<p><a href=\"https://github.com/qq775193759/OS_ANSWER/blob/master/fs_read/fs_read.md\" target=\"_blank\">报告入口</a></p>"}, {"folders": [], "updated": "2016-05-16T02:03:14Z", "uid": "ic226rac4j5jw", "created": "2016-05-16T02:03:14Z", "type": "feedback", "id": "io9d9an5xdp5py", "anon": "no", "bucket_name": "This week", "config": {}, "bucket_order": 4, "data": null, "children": [], "subject": "<p></p>\n<p>高博 2012012139</p>\n<p>赵涵 2012011383</p>\n<p><a href=\"https://github.com/gaobo1993/os_course_spoc_exercises/blob/master/all/lab8_result/Report.md\" target=\"_blank\">Report</a></p>\n<p><a href=\"https://github.com/gaobo1993/os_course_spoc_exercises/tree/master/all/lab8_result\" target=\"_blank\">code</a></p>"}, {"folders": [], "updated": "2016-05-16T02:39:59Z", "uid": "i0yuo4o74sx70w", "created": "2016-05-16T02:39:59Z", "type": "feedback", "id": "io9ekkh8m1m3u3", "anon": "no", "bucket_name": "This week", "config": {}, "bucket_order": 4, "data": null, "children": [], "subject": "<p></p>\n<p>张浩天 2013011416 郑兆衡 2013011389</p>\n<p></p>\n<p><a href=\"https://github.com/ZhengZhaoHeng/os_2016/blob/master/lec22/answer.md\" target=\"_blank\">Answer</a></p>"}, {"folders": [], "updated": "2016-05-16T08:07:07Z", "uid": "i6ugy67km5b", "created": "2016-05-16T08:07:07Z", "type": "feedback", "id": "io9q99e8wde3t3", "anon": "no", "bucket_name": "This week", "config": {}, "bucket_order": 4, "data": null, "children": [], "subject": "<p>崔岩2012011309 陈伯乐 2012011302</p>\n<p>代码和报告见 <a href=\"https://github.com/Thucuiyan/OS_Spoc/tree/master/l22_spoc\" target=\"_blank\">https://github.com/Thucuiyan/OS_Spoc/tree/master/l22_spoc</a></p>"}, {"folders": [], "updated": "2016-05-16T14:45:05Z", "uid": "i3qk2vs65x276j", "created": "2016-05-16T14:45:05Z", "type": "feedback", "id": "ioa4h253pa037a", "anon": "no", "bucket_name": "This week", "config": {}, "bucket_order": 4, "data": null, "children": [], "subject": "<p>2013011324 乔奕 2013011296 贺子松</p>\n<p>代码、报告详见&#xff1a;<a href=\"https://github.com/Hezisong/os_practice/tree/master/lab8_result\" target=\"_blank\">https://github.com/Hezisong/os_practice/tree/master/lab8_result</a></p>"}, {"folders": [], "updated": "2016-05-16T15:14:47Z", "uid": "ikvcvqz0jx17m1", "created": "2016-05-16T15:14:47Z", "type": "feedback", "id": "ioa5j8g8upj4bw", "anon": "no", "bucket_name": "This week", "config": {}, "bucket_order": 4, "data": null, "children": [], "subject": "<p></p>\n<p>2012011333 俞寒轩</p>\n<p>2012011306 肖迪</p>\n<p></p>\n<p><a href=\"https://github.com/yuhx/OS_homework/blob/master/lec22.md\" target=\"_blank\">report</a></p>"}, {"folders": [], "updated": "2016-05-17T08:04:03Z", "uid": "ikvcvo2cckb7jb", "created": "2016-05-17T08:04:03Z", "type": "feedback", "d-bucket": "Yesterday", "id": "iob5l64w1a8t3", "anon": "no", "bucket_name": "Yesterday", "config": {}, "bucket_order": 3, "data": null, "children": [], "subject": "<p><a href=\"https://github.com/islandlee/homework\" target=\"_blank\">lab8_result report.md</a></p>\n<p></p>\n<p>2013011356 董豪宇</p>\n<p>2013011302 李奕昕</p>"}, {"folders": [], "updated": "2016-05-17T08:21:29Z", "uid": "i70lz5f0QKm", "created": "2016-05-17T08:21:29Z", "type": "feedback", "d-bucket": "Yesterday", "id": "iob67leqn402r6", "anon": "no", "bucket_name": "Yesterday", "config": {}, "bucket_order": 3, "data": null, "children": [], "subject": "<p></p>\n<p>2012011307 黄必胜</p>\n<p>当进行文件的读操作时&#xff0c;函数的调用顺序及分析如下&#xff1a;<br />kern/syscall/sys_read.c: sysread 系统调用的接口<br />kern/fs/sysfile.c: sysfile_read <br />kern/fs/file.c: file_read 调用vop_read&#xff0c;即vfs中read操作的统一接口。将宏展开后发现其调用inode-&gt;vop_read,即sfs_read。<br />kern/fs/sfs_inode.c: sfs_read <br />kern/fs/sfs_inode.c: sfs_io 对文件inode进行lock操作<br />kern/fs/sfs_inode.c: sfs_io_nolock 开始读文件中的块<br />kern/fs/sfs_io.c sfs_rbuf <br />kern/fs/sfs_io.c sfs_rwblock_nolock 调用dop_io&#xff0c;此为设备所对应的io操作函数&#xff0c;在disk0_device_init中被初始化为disk0_io.<br />kern/fs/devs/dev_disk0.c disk0_io 检查参数的合法性<br />kern/fs/devs/dev_disk0.c disk0_read_blks_nolock 调用驱动函数对文件块进行读取<br />kern/driver/ide.c ide_read_secs </p>\n<p></p>"}, {"folders": [], "updated": "2016-05-17T09:16:06Z", "uid": "i6uaz437IKR", "created": "2016-05-17T09:16:06Z", "type": "feedback", "d-bucket": "Yesterday", "id": "iob85u1v73m2gf", "anon": "no", "bucket_name": "Yesterday", "config": {}, "bucket_order": 3, "data": null, "children": [], "subject": "<p>2012080056 金贤林</p>\n<p>执行文件读操作时&#xff0c;函数的调用顺序&#xff1a;</p>\n<p>syscall -&gt; sys_exec -&gt; do_execve -&gt; load_icode -&gt; load_icode_read -&gt; sysfile_read -&gt; file_read -&gt; sfs_read -&gt; sfs_io -&gt; sfs_io_nolock -&gt; sfs_rbuf -&gt; sfs_rwblock_nolock -&gt; disk0_io -&gt; disk0_read_blks_nolock</p>"}, {"folders": [], "updated": "2016-05-17T10:50:49Z", "uid": "i6ub4vwhQXd", "created": "2016-05-17T10:50:49Z", "type": "feedback", "d-bucket": "Yesterday", "id": "iobbjmlwekr1ld", "anon": "no", "bucket_name": "Yesterday", "config": {}, "bucket_order": 3, "data": null, "children": [], "subject": "<p>徐捷 2012011371 </p>\n<p>赖国堃 2012011372</p>\n<p></p>\n<p>函数的调用顺序如下&#xff1a;</p>\n<p>syscall</p>\n<p>sysfile_read</p>\n<p>file_read</p>\n<p>sfs_read</p>\n<p>sfs_io</p>\n<p>sfs_io_nolock</p>\n<p>sfs_rbuf</p>\n<p>sfs_rwblock_nolock</p>\n<p>disk0_io</p>\n<p>disk0_read_blks_nolock</p>\n<p>ide_read_secs</p>"}, {"folders": [], "updated": "2016-05-17T10:51:46Z", "uid": "ikvcvr0o2bs7m3", "created": "2016-05-17T10:51:46Z", "type": "feedback", "d-bucket": "Yesterday", "id": "iobbkufcy4q1g6", "anon": "no", "bucket_name": "Yesterday", "config": {}, "bucket_order": 3, "data": null, "children": [], "subject": "<p></p>\n<p></p>\n<p><a href=\"https://github.com/shangzw12/os_hw/blob/master/lecture22/report.md\" target=\"_blank\">answer</a></p>"}, {"folders": [], "updated": "2016-05-17T11:06:05Z", "uid": "i0nu5by9l7v7of", "created": "2016-05-17T11:06:05Z", "type": "feedback", "d-bucket": "Yesterday", "id": "iobc39bt7kf5kc", "anon": "no", "bucket_name": "Yesterday", "config": {}, "bucket_order": 3, "data": null, "children": [], "subject": "<p></p>\n<p>2013011395 马志明</p>\n<p>2013011409 王启圣</p>\n<p>函数调用顺序&#xff1a;<br />sysfile_read<br />file_read<br />sfs_read<br />sfs_io<br />sfs_io_nolock<br />sfs_rbuf<br />sfs_rwblock_noblock<br />disk0_io<br />disk0_read_blks_noblock<br />ide_read_secs</p>"}, {"folders": [], "updated": "2016-05-17T11:24:41Z", "uid": "i0f7v0qgfm61s6", "created": "2016-05-17T11:24:41Z", "type": "feedback", "d-bucket": "Yesterday", "id": "iobcr6hq6rs3d8", "anon": "no", "bucket_name": "Yesterday", "config": {}, "bucket_order": 3, "data": null, "children": [], "subject": "<p></p>\n<p>徐涵 2013011355</p>\n<p>白家松 2013011339</p>\n<p>读取文件操作函数调用顺序:</p>\n<p>syscall</p>\n<p> sysfile_read</p>\n<p>file_read</p>\n<p>vop_read</p>\n<p> sfs_io</p>\n<p>sfs_io_nolock</p>\n<p>sfs_rbuf</p>\n<p>sfs_rwblock</p>\n<p>sfs_rwblock_nolock</p>\n<p>disk0_io</p>\n<p>disk0_read_blks_nolock</p>\n<p>ide_read_secs</p>"}, {"folders": [], "updated": "2016-05-17T11:33:18Z", "uid": "i0zaci5voig5h", "created": "2016-05-17T11:33:18Z", "type": "feedback", "d-bucket": "Yesterday", "id": "iobd29cg2p8so", "anon": "no", "bucket_name": "Yesterday", "config": {}, "bucket_order": 3, "data": null, "children": [], "subject": "<p>朱俸民 2012011894 朱新瑞 2013011411</p>\n<p>以lab8_result代码为参照进行修改</p>\n<p>https://github.com/paulzfm/os_course_spoc_exercises/blob/master/lab8_result/report.md</p>"}, {"folders": [], "updated": "2016-05-17T11:49:00Z", "uid": "ikx8y1dzPrM", "created": "2016-05-17T11:49:00Z", "type": "feedback", "d-bucket": "Yesterday", "id": "iobdmg51btx5h6", "anon": "no", "bucket_name": "Yesterday", "config": {}, "bucket_order": 3, "data": null, "children": [], "subject": "<p>krajna 2014010527</p>\n<p></p>\n<p>在proc.c的do_execve()函数首先调用sysfile_open()获得一个file。</p>\n<p>再在load_icode_read()中调用sysfile_seek()以及sysfile_read();</p>\n<p>在sysfile_read()调用file_read()同时分配缓冲区,接着在该函数中获得fd_array接着调用vop_read()&#xff0c;它指向</p>\n<p>sfs_read(),调用sfs_io(),其中包装了sfs_io_nolock().</p>\n<p>接着是sfs_rbuf()包装了sfs_rwblock_nolock().</p>\n<p>后面就是底层设备I/O,会调用dop_io跳转到disk0_io等等等。</p>\n<p></p>\n<p>Lab8加了几个cprintf之后出了一个奇怪的错误&#xff0c;打印不了了&#xff0c;手写过程。</p>"}, {"folders": [], "updated": "2016-05-17T11:57:32Z", "uid": "i11dx198ive25r", "created": "2016-05-17T11:57:32Z", "type": "feedback", "d-bucket": "Yesterday", "id": "iobdxf9g369cc", "anon": "no", "bucket_name": "Yesterday", "config": {}, "bucket_order": 3, "data": null, "children": [], "subject": "<p>叶方轲 201301134 张殿炎 2013011328</p>\n<p><a href=\"https://github.com/fkye/os-spoc-answer/blob/master/22.md\" target=\"_blank\">report</a></p>"}, {"folders": [], "updated": "2016-05-17T15:11:47Z", "uid": "i11v1az5sf83l2", "created": "2016-05-17T15:11:47Z", "type": "feedback", "d-bucket": "Yesterday", "id": "iobkv8ha9c37lu", "anon": "no", "bucket_name": "Yesterday", "config": {}, "bucket_order": 3, "data": null, "children": [], "subject": "<p></p>\n<p>2013011310 计32 余翔</p>\n<p>2013011308 计32 林婕茵</p>\n<p></p>\n<p>读取的函数操作顺序如下。<br />sysfile_read<br />file_read<br />sfs_read<br />sfs_io<br />sfs_io_nolock<br />sfs_rbuf<br />sfs_rwblock_noblock<br />disk0_io<br />disk0_read_blks_noblock<br />ide_read_secs</p>"}, {"folders": [], "updated": "2016-05-18T02:36:54Z", "uid": "ikvcvp62fcm7ka", "created": "2016-05-18T02:36:54Z", "type": "feedback", "id": "ioc9cap0boy39y", "anon": "no", "bucket_name": "Today", "config": {}, "bucket_order": 2, "data": null, "children": [], "subject": "<p>2012012617 周恩泽</p>\n<p>调用过程为&#xff1a;</p>\n<p>syscall</p>\n<p>sysfile_read</p>\n<p>file_read</p>\n<p>vop_read</p>\n<p>sfs_io</p>\n<p>sfs_io_nolock</p>\n<p>sfs_rbuf</p>\n<p>sfs_rwblock_nolock</p>\n<p>disk0_io</p>\n<p>disk0_read_blks_nolock</p>\n<p>ide_read_secs</p>\n<p>insl</p>"}, {"folders": [], "updated": "2016-05-18T05:11:47Z", "uid": "ikvcvr6di5i7ma", "created": "2016-05-18T05:11:47Z", "type": "feedback", "id": "iocevh8i5uw4fg", "anon": "no", "bucket_name": "Today", "config": {}, "bucket_order": 2, "data": null, "children": [], "subject": "<p>谢琛睿 2013011406 杨明 2013011412</p>\n<p>在对硬盘底层读写的ide_read_secs函数中调用print_stackframe&#xff0c;输出如下&#xff1a;</p>\n<pre>ebp:0xc03689f8 eip:0xc0100c2a args:0x00000001 0x00000000 0xc0368a38 0xc0100002 \n    kern/debug/kdebug.c:350: print_stackframe&#43;21\nebp:0xc0368a48 eip:0xc0101321 args:0x00000002 0x00000318 0xc035f000 0x00000008 \n    kern/driver/ide.c:159: ide_read_secs&#43;19\nebp:0xc0368a78 eip:0xc010fcaf args:0x00000063 0x00000001 0xc0368ab8 0xc010fdbd \n    kern/fs/devs/dev_disk0.c:44: disk0_read_blks_nolock&#43;42\nebp:0xc0368ab8 eip:0xc010fe5e args:0xc03552b8 0xc0368adc 0x00000000 0x00063000 \n    kern/fs/devs/dev_disk0.c:96: disk0_io&#43;295\nebp:0xc0368af8 eip:0xc011062c args:0xc0355340 0xc0363000 0x00000063 0x00000000 \n    kern/fs/sfs/sfs_io.c:23: sfs_rwblock_nolock&#43;107\nebp:0xc0368b38 eip:0xc011073d args:0xc0355340 0xc0395000 0x00000010 0x00000063 \n    kern/fs/sfs/sfs_io.c:89: sfs_rbuf&#43;96\nebp:0xc0368b98 eip:0xc01122dc args:0xc0355340 0xc0355f18 0xc0395000 0x00009000 \n    kern/fs/sfs/sfs_inode.c:632: sfs_io_nolock&#43;625\nebp:0xc0368be8 eip:0xc01123d8 args:0xc0355f18 0xc0368c2c 0x00000000 0x00000001 \n    kern/fs/sfs/sfs_inode.c:658: sfs_io&#43;174\nebp:0xc0368c08 eip:0xc0112420 args:0xc0355f18 0xc0368c2c 0x00000010 0x00009000 \n    kern/fs/sfs/sfs_inode.c:670: sfs_read&#43;21\nebp:0xc0368c58 eip:0xc010a84d args:0x00000000 0xc0395000 0x00000010 0xc0368c7c \n    kern/fs/file.c:226: file_read&#43;218\nebp:0xc0368c98 eip:0xc0109aaa args:0x00000000 0xc0394000 0x00000010 0xc015c0d0 \n    kern/fs/sysfile.c:80: sysfile_read&#43;158\nebp:0xc0368cc8 eip:0xc010c2df args:0x00000000 0xc0394000 0x00000010 0x00009000 \n    kern/process/proc.c:581: load_icode_read&#43;55\nebp:0xc0368da8 eip:0xc010c584 args:0x00000000 0x00000001 0xc0368dc8 0xc0368fdc \n    kern/process/proc.c:683: load_icode&#43;640\nebp:0xc0368e98 eip:0xc010cd0d args:0xc0116d90 0x00000001 0xc0368fdc 0xc0368ebc \n    kern/process/proc.c:855: do_execve&#43;419\nebp:0xc0368ec8 eip:0xc010de74 args:0xc0368ee4 0x00000002 0x00000002 0x00000000 \n    kern/syscall/syscall.c:39: sys_exec&#43;52\nebp:0xc0368f08 eip:0xc010e166 args:0xc0113bd8 0x0000000a 0xc0368f80 0x00000000 \n    kern/syscall/syscall.c:199: syscall&#43;118\nebp:0xc0368f28 eip:0xc010291a args:0xc0368f64 0xfffffffa 0x0000000a 0x00000002 \n    kern/trap/trap.c:217: trap_dispatch&#43;272\nebp:0xc0368f58 eip:0xc0102a25 args:0xc0368f64 0x00000000 0x00000000 0xc0368fbc \n    kern/trap/trap.c:298: trap&#43;80\nebp:0xc0368fbc eip:0xc01034ee args:0xc0116d90 0xc0368fdc 0xc0116d90 0x00000000 \n    kern/trap/trapentry.S:24: &lt;unknown&gt;&#43;0\nebp:0xc0368fec eip:0xc010d02b args:0x00000000 0x00000000 0x00000010 0xc0355458 \n    kern/process/proc.c:992: user_main&#43;66</pre>\n<p>可见&#xff0c;当程序调用文件操作函数&#xff0c;首先会触发中断进入内核态。在判断中断类型进入相应的处理函数后&#xff0c;依次调用load_icode, load_icode_read, sysfile_read, file_read, sfs_read, sfs_io, sfs_io_noblock, sfs_io_nolock, sfs_rbuf, sfs_rwblock_nolock, disk0_io, disk0_read_blks_nolock, ide_read_secs。</p>\n<p>也就是说&#xff0c;首先访问inode结点&#xff0c;获取要操作文件的相关信息&#xff0c;然后访问sfs文件系统&#xff0c;接下来就是访问硬件。</p>"}], "subject": "<p></p><div><a href=\"https://github.com/chyyuu/os_course_spoc_exercises/blob/master/all/09-2-lab8-spoc-discussion.md#小组思考题\">https://github.com/chyyuu/os_course_spoc_exercises/blob/master/all/09-2-lab8-spoc-discussion.md#小组思考题</a><a href=\"https://github.com/chyyuu/os_course_spoc_exercises/blob/master/all/09-2-lab8-spoc-discussion.md#%E5%B0%8F%E7%BB%84%E6%80%9D%E8%80%83%E9%A2%98\"></a></div>\n<div></div>\n<div>选择做“1&#xff09;小组思考题(1)”的同学的回答结果写在此贴后面。</div>"}, {"folders": [], "updated": "2016-05-14T15:47:22Z", "no_upvotes": 0, "uid": "hdjonbiyfs62ie", "created": "2016-05-14T15:47:22Z", "type": "followup", "no_answer": 1, "id": "io7btg8m6wq6ql", "anon": "no", "bucket_name": "Last week", "config": {}, "bucket_order": 5, "data": null, "children": [], "subject": "<p></p><div><a href=\"https://github.com/chyyuu/os_course_spoc_exercises/blob/master/all/09-2-lab8-spoc-discussion.md#%E5%B0%8F%E7%BB%84%E6%80%9D%E8%80%83%E9%A2%98\">https://github.com/chyyuu/os_course_spoc_exercises/blob/master/all/09-2-lab8-spoc-discussion.md#小组思考题</a></div>\n<div></div>\n<div>选择做“2&#xff09;小组思考题(2)”的同学的回答结果写在此贴后面。</div>"}], "nr": 864, "bucket_order": 2, "config": {}, "status": "active", "tags": ["instructor-note", "lecture22", "课堂问答"], "num_favorites": 0, "bucket_name": "Today", "q_edits": [], "data": {"embed_links": []}, "request_instructor": 0, "created": "2016-05-14T15:46:44Z", "is_tag_good": false, "type": "note", "s_edits": [], "my_favorite": false, "default_anonymity": "no", "t": 1463585424310, "tag_good": [], "tag_good_arr": [], "history": [{"content": "<p></p>\n<div>请向勇班的同学把“第二十二讲 实验八 SFS文件系统”中指定小题的回答结果写在此贴中对应题目后面。</div>\n<div> </div>\n<div><a href=\"https://github.com/chyyuu/os_course_spoc_exercises/blob/master/all/09-2-lab8-spoc-discussion.md#%E5%B0%8F%E7%BB%84%E6%80%9D%E8%80%83%E9%A2%98\">https://github.com/chyyuu/os_course_spoc_exercises/blob/master/all/09-2-lab8-spoc-discussion.md#小组思考题</a></div>\n<div> </div>\n<div>第二十二讲的回答的截止时间是明天&#xff08;20160517&#xff09;晚20点前。</div>\n<div> </div>\n<div>要求&#xff1a;分小组完思考题&#xff0c;最多二个人一组&#xff0c;也可以独立回答。每个小组依据自己的兴趣选择一个题目&#xff0c;不要求同时完成两个题目。</div>\n<div></div>\n<div>1&#xff09;小组思考题(1)&#xff1a;分析理解“读文件”的执行过程。</div>\n<div>2&#xff09;小组思考题(2)&#xff1a;实现pipe机制</div>\n<div> </div>\n<div>优胜者&#xff1a;</div>", "anon": "no", "subject": "2016春季-第二十二讲 课堂思考题回答-向勇班", "uid": "hdjonbiyfs62ie", "created": "2016-05-16T01:14:20Z"}, {"content": "<p></p><div>请向勇班的同学把“第二十二讲 实验八 SFS文件系统”中指定小题的回答结果写在此贴中对应题目后面。</div>\n<div> </div>\n<div><a href=\"https://github.com/chyyuu/os_course_spoc_exercises/blob/master/all/09-2-lab8-spoc-discussion.md#%E5%B0%8F%E7%BB%84%E6%80%9D%E8%80%83%E9%A2%98\">https://github.com/chyyuu/os_course_spoc_exercises/blob/master/all/09-2-lab8-spoc-discussion.md#小组思考题</a></div>\n<div> </div>\n<div>第二十二讲的回答的截止时间是明天&#xff08;20160517&#xff09;晚20点前。</div>\n<div> </div>\n<div>要求&#xff1a;分小组完思考题&#xff0c;最多二个人一组&#xff0c;也可以独立回答。每个小组依据自己的兴趣选择一个题目&#xff0c;不要求同时完成两个题目。</div>\n<div></div>\n<div>1&#xff09;小组思考题(1)&#xff1a;分析理解“读文件”的执行过程。</div>\n<div>2&#xff09;小组思考题(2)&#xff1a;实现pipe机制</div>\n<div> </div>\n<div>优胜者&#xff1a;</div>", "anon": "no", "subject": "2016春季-第二十二讲 课堂思考题回答-向勇班", "uid": "hdjonbiyfs62ie", "created": "2016-05-14T15:46:44Z"}]}, "error": null}