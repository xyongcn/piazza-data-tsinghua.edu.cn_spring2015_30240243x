{"error": null, "result": {"nr": 161, "upvote_ids": [], "change_log": [{"type": "create", "when": "2015-03-23T15:04:50Z", "uid": "i7979o0m2bm", "data": "i7m08o4wlue3py", "anon": "no"}, {"uid": "hcrrjuyequh4bt", "to": "i7m08o4rq3r3px", "when": "2015-03-23T15:13:22Z", "anon": "no", "data": "i7m0jnj42dl4s", "type": "i_answer"}, {"type": "followup", "to": "i7m08o4rq3r3px", "when": "2015-04-05T10:26:37Z", "uid": "i1gf2bzq1ni677", "anon": "no"}, {"type": "feedback", "to": "i7m08o4rq3r3px", "when": "2015-04-05T12:34:05Z", "uid": "hs2swpdtr91gu", "anon": "no"}, {"type": "feedback", "to": "i7m08o4rq3r3px", "when": "2015-04-06T06:14:45Z", "uid": "i1gf2bzq1ni677", "anon": "no"}, {"type": "feedback", "to": "i7m08o4rq3r3px", "when": "2015-04-08T08:54:45Z", "uid": "hs2swpdtr91gu", "anon": "no"}, {"type": "feedback", "to": "i7m08o4rq3r3px", "when": "2015-04-08T12:16:13Z", "uid": "i1gf2bzq1ni677", "anon": "no"}, {"type": "feedback", "to": "i7m08o4rq3r3px", "when": "2015-04-08T13:36:49Z", "uid": "hs2swpdtr91gu", "anon": "no"}, {"type": "feedback", "to": "i7m08o4rq3r3px", "when": "2015-04-08T14:31:06Z", "uid": "i1gf2bzq1ni677", "anon": "no"}], "q_edits": [], "i_edits": [], "unique_views": 62, "bookmarked": 6, "config": {}, "history": [{"subject": "lab2 没有make debug", "content": "<p>增加了 </p>\n<p></p>\n<p>TERMINAL :=gnome-terminal<br />debug: targets<br /> $(V)$(QEMU) -S -s -parallel stdio $(QEMUOPTS) -serial null &amp;<br /> $(V)sleep 2<br /> $(V)$(TERMINAL) -e &#34;cgdb -q -x tools/gdbinit&#34;</p>\n<p></p>\n<p>但还是无法单步执行&#xff0c;求教</p>", "created": "2015-03-23T15:04:50Z", "uid": "i7979o0m2bm", "anon": "no"}], "data": {"embed_links": []}, "request_instructor_me": false, "folders": ["lab2"], "type": "question", "tag_good": [], "no_answer": 0, "created": "2015-03-23T15:04:50Z", "t": 1433500142669, "id": "i7m08o4rq3r3px", "status": "active", "tag_good_arr": [], "default_anonymity": "no", "my_favorite": false, "bucket_order": 2, "is_bookmarked": false, "is_tag_good": false, "bucket_name": "Today", "no_answer_followup": 0, "children": [{"folders": [], "bucket_order": 2, "config": {}, "history": [{"subject": "", "content": "<p>如果能连接上你的机器&#xff0c;也许更好地解决这样的问题。</p>\n<p>或者用实验楼  <a href=\"http://www.shiyanlou.com/\">http://www.shiyanlou.com/</a>   注册个账号&#xff0c;告诉助教或老师&#xff0c;老师用你的账号去看你的实现&#xff1f;看看能否重现你的问题&#xff1f;</p>\n<p></p>\n<p>比较省事的办法&#xff1a;</p>\n<p>如果方便&#xff0c;明天上午到FIT楼3-124找助教现场看看并解决如何&#xff1f;</p>", "created": "2015-03-23T15:13:22Z", "uid": "hcrrjuyequh4bt", "anon": "no"}], "data": {"embed_links": []}, "bucket_name": "Today", "is_tag_endorse": false, "children": [], "tag_endorse": [], "tag_endorse_arr": [], "created": "2015-03-23T15:13:22Z", "id": "i7m0jnizd1w4r", "type": "i_answer"}, {"no_upvotes": 0, "uid": "i1gf2bzq1ni677", "bucket_name": "Last week", "bucket_order": 5, "updated": "2015-04-05T10:26:37Z", "config": {}, "anon": "no", "data": {"embed_links": null}, "folders": [], "subject": "<p>我也不会单步调试&#xff0c;将qemu与gdb连接后设置了断点&#xff0c;输入c执行&#xff0c;结果qemu那边直接跑完了&#xff0c;不会停下来&#xff0c;在lab1时同样的办法qemu会停下来可以单步执行。</p>\n<p></p>\n<p>qemu</p>\n<pre>qemu -S -s -hda ucore.img -parallel stdio</pre>\n<p>gdb</p>\n<pre>target remote:1234<br />file ./bin/kernel<br />b kern_init<br />c</pre>\n<p>输入c后qemu就直接跑完了。</p>", "children": [{"uid": "hs2swpdtr91gu", "bucket_name": "Last week", "bucket_order": 5, "updated": "2015-04-05T12:34:05Z", "config": {}, "anon": "no", "data": {"embed_links": null}, "folders": [], "subject": "<p>引自qq群小鱼的回答&#xff0c;这里对他表示感谢</p>\n<p>“由于lab2&#xff0c;在kern_init的时候&#xff0c;分页机制还没有建立起来&#xff0c;而符号表中的地址是逻辑地址&#xff0c;所以断点kern_init不可达&#xff0c;将gdbinit中  break kern_initg改成 break *0x0010002a   将断点直接设置物理地址     可以根据符号表文件中逻辑地址0xc010002a得出物理地址 ”</p>\n<p><img src=\"https://d1b10bmlvqabco.cloudfront.net/attach/i5j09fnsl7k5x0/hs2swpdtr91gu/i84fjr2n5ugb/QQ图片20150405203256.png\" /></p>\n<p>不过这种调试有些不直白&#xff0c;也欢迎其他同学提出调试的好方法</p>", "children": [], "type": "feedback", "created": "2015-04-05T12:34:05Z", "id": "i84fkva54cd194"}, {"uid": "i1gf2bzq1ni677", "bucket_name": "Last week", "bucket_order": 5, "updated": "2015-04-06T06:14:44Z", "config": {}, "anon": "no", "data": {"embed_links": null}, "folders": [], "subject": "<p>但是这样设置断点后没办法调试&#xff0c;输入n后会卡住。</p>\n<pre>(gdb) b * 0x001040bf\nBreakpoint 1 at 0x1040bf\n(gdb) c\nContinuing.\n\nProgram received signal SIGTRAP, Trace/breakpoint trap.\npmm_init () at kern/mm/pmm.c:286\n286\tpmm_init(void) {\n(gdb) n<br />&#xff08;这里卡住没有响应&#xff0c;接着输入 ctrl &#43; c&#xff09;\nRemote communication error.  Target disconnected.: Connection reset by peer.\n/build/buildd/gdb-7.7/gdb/target.c:3293: internal-error: Can&#39;t determine the current address space of thread process 42000\n</pre>\n<p></p>", "children": [], "type": "feedback", "created": "2015-04-06T06:14:44Z", "id": "i85hgw6ptfa1nb"}, {"uid": "hs2swpdtr91gu", "bucket_name": "Last week", "bucket_order": 5, "updated": "2015-04-08T08:54:45Z", "config": {}, "anon": "no", "data": {"embed_links": null}, "folders": [], "subject": "<p>请问这个地址是哪个函数的&#xff1f;我这里使用n是可以继续单步执行的</p>", "children": [], "type": "feedback", "created": "2015-04-08T08:54:45Z", "id": "i88i2dd0ta81jh"}, {"uid": "i1gf2bzq1ni677", "bucket_name": "Last week", "bucket_order": 5, "updated": "2015-04-08T12:16:13Z", "config": {}, "anon": "no", "data": {"embed_links": null}, "folders": [], "subject": "<p>pmm_init()</p>\n<p>换成kern_init()也不行</p>", "children": [], "type": "feedback", "created": "2015-04-08T12:16:13Z", "id": "i88p9gn6huc58e"}, {"uid": "hs2swpdtr91gu", "bucket_name": "Last week", "bucket_order": 5, "updated": "2015-04-08T13:36:49Z", "config": {}, "anon": "no", "data": {"embed_links": null}, "folders": [], "subject": "<p>仍然卡住么&#xff1f;可以这样尝试。首先</p>\n<pre>make clean</pre>\n<p>然后将memlayout.h中的</p>\n<pre>#define KERNBASE            0xC0000000</pre>\n<p>改成</p>\n<pre>#define KERNBASE            0x00000000</pre>\n<p>修改Makefile中的</p>\n<pre>$(UCOREIMG): $(kernel) $(bootblock) $(kernel_nopage)<br />\t$(V)dd if=/dev/zero of=$&#64; count=10000<br />\t$(V)dd if=$(bootblock) of=$&#64; conv=notrunc<br />\t$(V)dd if=$(kernel) of=$&#64; seek=1 conv=notrunc</pre>\n<p>为</p>\n<pre>$(UCOREIMG): $(kernel) $(bootblock) $(kernel_nopage)<br />\t$(V)dd if=/dev/zero of=$&#64; count=10000<br />\t$(V)dd if=$(bootblock) of=$&#64; conv=notrunc<br />\t$(V)dd if=$(kernel_nopage) of=$&#64; seek=1 conv=notrunc</pre>\n<p>修改tools/gdbinit中的</p>\n<pre>file bin/kernel</pre>\n<p>为</p>\n<pre>file bin/kernel_nopage</pre>\n<p>最后就可以进行调试了</p>\n<pre>make debug<br />make gdb</pre>\n<p></p>", "children": [], "type": "feedback", "created": "2015-04-08T13:36:49Z", "id": "i88s53x45od5l9"}, {"uid": "i1gf2bzq1ni677", "bucket_name": "Last week", "bucket_order": 5, "updated": "2015-04-08T14:31:06Z", "config": {}, "anon": "no", "data": {"embed_links": null}, "folders": [], "subject": "<p>这次可行了&#xff0c;谢谢。</p>", "children": [], "type": "feedback", "created": "2015-04-08T14:31:06Z", "id": "i88u2wqjyxr69k"}], "type": "followup", "no_answer": 0, "created": "2015-04-05T10:26:37Z", "id": "i84b0yf1ygw3k4"}], "request_instructor": 0, "tags": ["lab2", "student"], "s_edits": [], "num_favorites": 2}, "aid": "iajgz13hq9i3v6"}